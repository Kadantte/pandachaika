{"version":3,"sources":["components/Archive.scss","components/Help/Help.scss","components/ArchiveCover/ArchiveCover.scss","components/SidebarArchives/SidebarArchives.scss","components/Home.scss","components/ImageViewer/NavigationPager.js","components/ImageViewer/PreloadProgressBars.js","core/apiCalls.js","components/ImageViewer/ImageViewer.js","components/Archive.js","components/Help/Help.js","components/ArchiveImage/ArchiveImage.js","components/ArchiveCover/ArchiveCover.js","components/ToggleButton.js","components/SidebarArchives/SidebarArchives.js","components/SidebarControls/SidebarControls.js","components/Home.js","components/App.js","index.js","webpack:///./src/components/ArchiveCover/ArchiveCover.scss?4f03","webpack:///./src/components/Help/Help.scss?e7b8","webpack:///./src/components/Home.scss?bbe5","webpack:///./src/components/ImageViewer/NavigationPager.scss?9fa9","webpack:///./src/components/Archive.scss?fe82","assets/no_cover.png","webpack:///./src/components/SidebarArchives/SidebarArchives.scss?b438","webpack:///./src/components/ImageViewer/ImageViewer.scss?476b","components/ImageViewer/NavigationPager.scss","config.js","components/ImageViewer/ImageViewer.scss"],"names":["exports","module","__webpack_require__","push","i","locals","container","verticalCenter","flex","grow","noGrow","fullWidth","gallery","coverTitle","extracted","caption","imageContainer","overlay","tags","tag","ListToggle","queryTag","smallButton","archCont","inlineBlock","overlayTop","overlayHelp","overlayRight","overlayLeft","imgContainer","active","modalContainer","HotKeys","NavigationPager","className","currentPosition","lastPosition","navSelectOptions","handleChange","moveLeft","moveFirst","moveRight","moveLast","react_default","a","createElement","Pagination","listClassName","PaginationItem","PaginationLink","onClick","s","midItem","react_select_esm","name","value","label","onChange","options","isClearable","blurInputOnSelect","noOptionsMessage","style","verticalAlign","PreloadProgressBars","images","position","left","top","width","Object","keys","map","x","percent","Number","state","Progress","key","color","async","getArchiveExtendedComponent","archiveId","correctedPosition","apiText","config","PandaBackupKey","query","PandaBackupUrl","response","fetch","credentials","json","getArchivesComponent","queryString","getRelativeImages","current","start","end","length","startRange","endRange","Array","fill","_","preloadOrder","arrays","result","itemIndex","arrayIndex","calculateWidthHeight","height","is_horizontal","horizontal","vertical","startWidth","startHeight","withRouter","Component","constructor","props","super","_defineProperty","this","oEvent","lengthComputable","setState","update","[object Object]","currentTarget","id","$merge","loaded","total","imageList","filter","hasOwnProperty","call","forEach","img","fetchImage","window","Image","toString","addEventListener","updateProgress","transferComplete","transferFailed","transferCanceled","src","url","$set","positions","filteredPositions","queryPositions","qs","stringify","indices","getArchiveImages","then","archiveImages","getImagesData","history","replace","archive","location","search","evt","offset","offsetLeft","offsetParent","paddingLeft","match","scrollX","clientX","offsetWidth","imgRight","nextSlide","goToPosition","doublePageMode","navImages","handlePositionChanges","startPosition","option","displayCovers","slider","slickGoTo","showPositionModal","modalInput","focus","image","previousQueue","handleQueueChange","nextQueue","togglePositionModal","event","preventDefault","React","createRef","startImage","startIndex","currentArchiveId","positionModal","loading","componentDidMount","getNonCachedImagesUrls","node","scrollIntoView","setCurrentContainer","newId","oldId","newImgId","oldImgId","componentDidUpdate","prevProps","componentWillUnmount","render","displayNavigators","displayMetadata","autoWidth","displayPreloadInfo","scale","Metadata","cx","title","imgStyle","transform","transformOrigin","renderedImages","alt","correctWith","thumbnails","String","ChangePageModal","handlePositionModalGoTo","clearable","autoBlur","openOnFocus","onClose","noResultsText","ref","ImagePreLoadIndicator","ImageViewer_PreloadProgressBars","index_es","focused","attach","handlers","keyHandlers","lib_default","dots","infinite","speed","slidesToShow","slidesToScroll","focusOnSelect","centerMode","centerPadding","c","variableWidth","initialSlide","afterChange","handleSliderChange","ImageViewer_NavigationPager","handleImgClick","hide","Archive","args","params","imgId","document","components_ImageViewer_ImageViewer","Help","actions","description","ArchiveImage","defaults","maxHeight","maxWidth","border","defaultProps","noCover","react_router_dom","to","ArchiveImage_ArchiveImage","image_width","image_height","filecount","link","highlight","href","commonStyle","ToggleButton","showContent","alignRight","showContentIcon","hideContentIcon","assign","right","Button","size","SidebarArchives","displayQueue","archives","toggleQueue","objects","components_ArchiveCover_ArchiveCover","components_ToggleButton","SidebarControls","displayControls","toggleControls","controls","control","action","block","Home_defineProperty","displayHelp","currentArchive","currentContainer","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","elem","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","decreaseScale","increaseScale","resetScale","toggleFullSize","contentFullScreen","toggleDoublePageMode","toggleMetadata","togglePreloadInfo","toggleCovers","toggleHelp","toggleFullScreen","queueChange","foundIndex","findIndex","probableNextPosition","oldSearch","newSearch","keyMap","reduce","obj","components_SidebarArchives_SidebarArchives","react_router","path","src_components_Archive","_extends","components_Help_Help","SidebarControls_SidebarControls","undefined","App","basename","component","Home","root","getElementById","ReactDOM","components_App","content","hmr","insertInto","p","process","REACT_APP_PB_HOST_URL","REACT_APP_PB_SERVER","REACT_APP_PB_KEY","centerText"],"mappings":"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","file":"static/js/main.62a47234.chunk.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".Archive__container___3L_dg {\\n  margin: 0 auto;\\n  padding: 0;\\n  text-align: center; }\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"container\": \"Archive__container___3L_dg\"\n};","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".Help__verticalCenter___2hUR- {\\n  -ms-flex-align: center;\\n  align-items: center; }\\n\\n.Help__flex___2JJlN {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-flow: row wrap;\\n  flex-flow: row wrap;\\n  list-style: none;\\n  background: rgba(0, 0, 0, 0.9); }\\n\\n.Help__flex___2JJlN > * {\\n  -ms-flex: 0 1 auto;\\n  flex: 0 1 auto;\\n  max-width: 100%;\\n  text-align: start; }\\n\\n.Help__grow___4mrVI {\\n  -ms-flex-positive: 1;\\n  flex-grow: 1;\\n  color: #b8b5c0; }\\n\\n.Help__noGrow___34bmx {\\n  -ms-flex-positive: 0;\\n  flex-grow: 0;\\n  color: lightblue; }\\n\\n.Help__fullWidth___T7Iuq {\\n  width: 100%; }\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"verticalCenter\": \"Help__verticalCenter___2hUR-\",\n\t\"flex\": \"Help__flex___2JJlN\",\n\t\"grow\": \"Help__grow___4mrVI\",\n\t\"noGrow\": \"Help__noGrow___34bmx\",\n\t\"fullWidth\": \"Help__fullWidth___T7Iuq\"\n};","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/**\\n * Common application sass variables and mixins.\\n * Import in Component.scss file to use app & bootstrap variables.\\n */\\n/**\\r\\n * Use this file to define application variables and override bootstrap variables.\\r\\n * For an example of using bootstrap variables see ContactPage.scss\\r\\n */\\n/*\\r\\n * Typography\\r\\n * ========================================================================== */\\n/*\\r\\n * Layout\\r\\n * ========================================================================== */\\n/*\\r\\n * Misc\\r\\n * ========================================================================== */\\n/**\\n * Custom application mixins available through out the app\\n */\\n.ArchiveCover__gallery___2XNvD {\\n  display: inline-block;\\n  vertical-align: top;\\n  text-align: center;\\n  background: #001a4c;\\n  font-weight: bold;\\n  position: relative;\\n  width: 100%;\\n  border: 1px solid grey;\\n  border-radius: 2px; }\\n\\n.ArchiveCover__gallery___2XNvD,\\na:hover {\\n  color: inherit;\\n  text-decoration: none; }\\n\\n.ArchiveCover__coverTitle___3MvdX {\\n  /* background-color: #FFF; */\\n  max-height: 28px;\\n  line-height: 13px;\\n  padding: 3px;\\n  overflow: hidden;\\n  width: 100%;\\n  height: 4em;\\n  font-size: 0.85em; }\\n\\n.ArchiveCover__extracted___2UiVm > a > .ArchiveCover__coverTitle___3MvdX {\\n  color: #00d0ff; }\\n\\n.ArchiveCover__caption___1jseu {\\n  /* background-color: #FFF; */\\n  max-height: 35px;\\n  line-height: 15px;\\n  padding: 3px;\\n  overflow: hidden;\\n  width: 100%;\\n  z-index: 10;\\n  font-size: 0.85em;\\n  color: #a8a8a4; }\\n\\n.ArchiveCover__imageContainer___C1fJ3 {\\n  display: block;\\n  max-width: 100%;\\n  height: auto;\\n  margin-left: auto;\\n  margin-right: auto; }\\n\\n.ArchiveCover__gallery___2XNvD .ArchiveCover__overlay___1wIAU {\\n  /* Chrome10-25,Safari5.1-6 */\\n  background: rgba(0, 0, 0, 0.75);\\n  position: absolute;\\n  bottom: 0;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  margin-top: 28px;\\n  margin-bottom: 21px;\\n  height: auto;\\n  width: 100%;\\n  pointer-events: none;\\n  opacity: 0;\\n  -webkit-transition: opacity 0.125s ease;\\n  -o-transition: opacity 0.125s ease;\\n  transition: opacity 0.125s ease; }\\n\\n.ArchiveCover__gallery___2XNvD .ArchiveCover__overlay___1wIAU .ArchiveCover__tags___GLbno {\\n  width: 100%;\\n  height: 100%;\\n  font-size: 14px;\\n  font-weight: 300;\\n  line-height: 1.05;\\n  opacity: 0;\\n  -webkit-line-clamp: 3;\\n  overflow: hidden;\\n  -o-text-overflow: ellipsis;\\n     text-overflow: ellipsis;\\n  -webkit-transition: margin 0.175s ease 0.125s, opacity 0.175s ease 0.175s;\\n  -o-transition: margin 0.175s ease 0.125s, opacity 0.175s ease 0.175s;\\n  transition: margin 0.175s ease 0.125s, opacity 0.175s ease 0.175s; }\\n\\n.ArchiveCover__gallery___2XNvD .ArchiveCover__overlay___1wIAU .ArchiveCover__tags___GLbno .ArchiveCover__tag___jOY9w {\\n  width: 100%;\\n  cursor: pointer; }\\n\\n.ArchiveCover__gallery___2XNvD:hover .ArchiveCover__overlay___1wIAU {\\n  opacity: 1;\\n  pointer-events: all; }\\n\\n.ArchiveCover__gallery___2XNvD:hover .ArchiveCover__overlay___1wIAU .ArchiveCover__tags___GLbno {\\n  opacity: 1; }\\n\\n.ArchiveCover__gallery___2XNvD:hover .ArchiveCover__overlay___1wIAU .ArchiveCover__ListToggle___3cs9R {\\n  opacity: 1; }\\n\\n.ArchiveCover__queryTag___3IBHh {\\n  color: lightgreen; }\\n\\n.ArchiveCover__smallButton___2ZAiq {\\n  margin: 2px; }\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"gallery\": \"ArchiveCover__gallery___2XNvD\",\n\t\"coverTitle\": \"ArchiveCover__coverTitle___3MvdX\",\n\t\"extracted\": \"ArchiveCover__extracted___2UiVm\",\n\t\"caption\": \"ArchiveCover__caption___1jseu\",\n\t\"imageContainer\": \"ArchiveCover__imageContainer___C1fJ3\",\n\t\"overlay\": \"ArchiveCover__overlay___1wIAU\",\n\t\"tags\": \"ArchiveCover__tags___GLbno\",\n\t\"tag\": \"ArchiveCover__tag___jOY9w\",\n\t\"ListToggle\": \"ArchiveCover__ListToggle___3cs9R\",\n\t\"queryTag\": \"ArchiveCover__queryTag___3IBHh\",\n\t\"smallButton\": \"ArchiveCover__smallButton___2ZAiq\"\n};","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"@media screen and (min-width: 1456px) {\\n  .SidebarArchives__archCont___30IUp {\\n    width: 12%; } }\\n\\n@media screen and (max-width: 1455px) {\\n  .SidebarArchives__archCont___30IUp {\\n    width: 19%; } }\\n\\n@media screen and (max-width: 1019px) {\\n  .SidebarArchives__archCont___30IUp {\\n    width: 24%; } }\\n\\n@media screen and (max-width: 814px) {\\n  .SidebarArchives__archCont___30IUp {\\n    width: 32%; } }\\n\\n@media screen and (max-width: 542px) {\\n  .SidebarArchives__archCont___30IUp {\\n    width: 49%; } }\\n\\n@media screen and (max-width: 300px) {\\n  .SidebarArchives__archCont___30IUp {\\n    width: 100%; } }\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"archCont\": \"SidebarArchives__archCont___30IUp\"\n};","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".Home__inlineBlock___33Dcx {\\n  display: inline-block;\\n  width: 55px; }\\n\\n.Home__container___KkeO7 {\\n  position: relative; }\\n\\n/* Overlays */\\n.Home__overlay___1L6jf {\\n  position: absolute;\\n  max-width: 100%;\\n  height: 20px;\\n  z-index: 10;\\n  color: antiquewhite;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  /* dim the background */\\n  top: 1rem;\\n  text-align: center; }\\n\\n.Home__overlayTop___1g6qW {\\n  top: 0;\\n  left: 95%;\\n  text-align: center; }\\n\\n.Home__overlayHelp___1USgm {\\n  position: absolute;\\n  left: 85%; }\\n\\n.Home__overlayRight___AiZmH {\\n  position: absolute;\\n  right: 1%;\\n  top: 0;\\n  z-index: 5; }\\n\\n.Home__overlayLeft___JWQEH {\\n  position: absolute;\\n  left: 1%;\\n  z-index: 5; }\\n\\n.Home__imgContainer___3M7tW {\\n  position: relative; }\\n\\n.Home__imgContainer___3M7tW:-ms-fullscreen > .Home__overlay___1L6jf {\\n  display: inherit;\\n  top: 2%; }\\n\\n.Home__imgContainer___3M7tW:-webkit-full-screen > .Home__overlay___1L6jf {\\n  display: inherit;\\n  top: 2%; }\\n\\n.Home__imgContainer___3M7tW:-moz-full-screen > .Home__overlay___1L6jf {\\n  display: inherit;\\n  top: 2%; }\\n\\n/* Fullscreen adjustments */\\nimg.Home__active___2X6FD {\\n  /* width: auto; */\\n  max-height: 100%;\\n  margin-left: auto;\\n  margin-right: auto;\\n  height: auto;\\n  max-width: 100%; }\\n\\n.Home__imgContainer___3M7tW:-ms-fullscreen > .Home__active___2X6FD {\\n  width: auto;\\n  max-height: 100%; }\\n\\n.Home__imgContainer___3M7tW:-webkit-full-screen {\\n  width: 100%;\\n  max-height: 100%;\\n  background-color: black; }\\n\\n.Home__imgContainer___3M7tW:-webkit-full-screen > .Home__active___2X6FD {\\n  max-height: 100%; }\\n\\n.Home__imgContainer___3M7tW:-moz-full-screen > .Home__active___2X6FD {\\n  width: auto;\\n  max-height: 100%; }\\n\\n.Home__modalContainer___DzRT5 {\\n  position: absolute;\\n  height: 100px;\\n  width: 95%; }\\n\\n.Home__tag___30qLH {\\n  background-color: rgba(0, 0, 0, 0.5);\\n  /* dim the background */\\n  display: table; }\\n\\n.Home__HotKeys___3qY1w:focus {\\n  outline: 0; }\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"inlineBlock\": \"Home__inlineBlock___33Dcx\",\n\t\"container\": \"Home__container___KkeO7\",\n\t\"overlay\": \"Home__overlay___1L6jf\",\n\t\"overlayTop\": \"Home__overlayTop___1g6qW\",\n\t\"overlayHelp\": \"Home__overlayHelp___1USgm\",\n\t\"overlayRight\": \"Home__overlayRight___AiZmH\",\n\t\"overlayLeft\": \"Home__overlayLeft___JWQEH\",\n\t\"imgContainer\": \"Home__imgContainer___3M7tW\",\n\t\"active\": \"Home__active___2X6FD\",\n\t\"modalContainer\": \"Home__modalContainer___DzRT5\",\n\t\"tag\": \"Home__tag___30qLH\",\n\t\"HotKeys\": \"Home__HotKeys___3qY1w\"\n};","// @flow\r\nimport React from 'react';\r\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\r\nimport Select from 'react-select';\r\nimport s from './NavigationPager.scss';\r\nimport type { OptionType } from 'react-select/src/types'\r\n\r\ntype Props = {\r\n  className: string,\r\n  currentPosition: number,\r\n  lastPosition: number,\r\n  navSelectOptions: Array<{ label: number, value: number }>,\r\n  handleChange: (option: OptionType) => void,\r\n  moveLeft: () => void,\r\n  moveFirst: () => void,\r\n  moveRight: () => void,\r\n  moveLast: () => void,\r\n}\r\n\r\nconst NavigationPager = ({ className, currentPosition, lastPosition, navSelectOptions, handleChange, moveLeft, moveFirst, moveRight, moveLast }: Props) => (\r\n  <Pagination listClassName={\"justify-content-center my-0\"}>\r\n    <PaginationItem>\r\n      <PaginationLink onClick={moveFirst}>\r\n        &larr;&larr;\r\n      </PaginationLink>\r\n    </PaginationItem>\r\n    <PaginationItem>\r\n      <PaginationLink onClick={moveLeft}>\r\n        &larr;\r\n      </PaginationLink>\r\n    </PaginationItem>\r\n    <PaginationItem>\r\n      <div className={s.midItem}>\r\n        <Select\r\n          className={className}\r\n          name=\"select-page\"\r\n          value={{value: currentPosition, label: currentPosition}}\r\n          onChange={handleChange}\r\n          options={navSelectOptions}\r\n          isClearable={false}\r\n          blurInputOnSelect\r\n          noOptionsMessage={() => `No valid option`}\r\n        />\r\n        <span style={{ verticalAlign: 'super' }}>{ ` of ${lastPosition} ` }</span>\r\n      </div>\r\n    </PaginationItem>\r\n    <PaginationItem>\r\n      <PaginationLink onClick={moveRight}>\r\n        &rarr;\r\n      </PaginationLink>\r\n    </PaginationItem>\r\n    <PaginationItem>\r\n      <PaginationLink onClick={moveLast}>\r\n        &rarr;&rarr;\r\n      </PaginationLink>\r\n    </PaginationItem>\r\n  </Pagination>\r\n);\r\n\r\nexport default NavigationPager;\r\n","// @flow\r\nimport React from 'react';\r\nimport { Progress } from 'reactstrap';\r\n\r\ntype Props = {\r\n  images: {\r\n    [img_id: number] : ImgCacheElement,\r\n  },\r\n}\r\n\r\nconst PreloadProgressBars = ({ images }: Props) => (\r\n  <div style={{position: 'absolute', left: '85%', top: '16%', width: '15%'}}>\r\n    {\r\n      Object.keys(images).map(x => {\r\n        const percent = images[Number(x)].percent;\r\n        switch (images[Number(x)].state) {\r\n          case 'progress':\r\n            return <Progress key={x} color={percent < 0 ? \"warning\" : \"success\"} value={percent}\r\n                                >{`${x}: ${percent}%`}</Progress>;\r\n          case 'load':\r\n            return <Progress key={x} color=\"info\" value={percent}>{`${x}: ${percent}%`}</Progress>;\r\n          case 'error':\r\n            return <Progress key={x} color=\"danger\" value={percent}>{`${x}: ${percent}%`}</Progress>;\r\n          case 'abort':\r\n            return <Progress key={x} color=\"danger\" value={percent}>{`${x}: ${percent}%`}</Progress>;\r\n          default:\r\n            return <Progress key={x} color=\"info\" value={percent}>{`${x}: ${percent}%`}</Progress>;\r\n        }\r\n      })\r\n    }\r\n  </div>\r\n);\r\n\r\nexport default PreloadProgressBars;\r\n","// @flow\r\nimport qs from 'qs';\r\nimport config from '../config';\r\n\r\nexport async function getArchiveImages(archiveId: string, positions: Array<number>): Promise<Array<ImgCacheElement>> {\r\n  const queryPositions = qs.stringify({ i: positions }, { indices: false });\r\n  let apiText;\r\n  if (config.PandaBackupKey === '') {\r\n    apiText = ''\r\n  } else {\r\n    apiText = `&api_key=${config.PandaBackupKey}`;\r\n  }\r\n  const query = `${config.PandaBackupUrl}/archive/${archiveId}/image_list/?${queryPositions}${apiText}`;\r\n  const response = await fetch(query,\r\n    {\r\n      credentials:   'include',\r\n    });\r\n  return await response.json();\r\n}\r\n\r\nexport async function getArchiveExtendedComponent(archiveId: string, position: number): Promise<ArchiveExtendedInfo> {\r\n  const correctedPosition = position || 1;\r\n  let apiText;\r\n  if (config.PandaBackupKey === '') {\r\n    apiText = ''\r\n  } else {\r\n    apiText = `&api_key=${config.PandaBackupKey}`;\r\n  }\r\n  const query = `${config.PandaBackupUrl}/archive/${archiveId}/?position=${correctedPosition}${apiText}`;\r\n  const response = await fetch(query,\r\n    {\r\n      credentials:   'include',\r\n    });\r\n  return await response.json();\r\n}\r\n\r\nexport async function getArchivesComponent(queryString: string): Promise<ArchiveObjectContainer> {\r\n  let apiText;\r\n  if (queryString === '') {\r\n    apiText = `?api_key=${config.PandaBackupKey}`;\r\n  } else {\r\n    apiText = `&api_key=${config.PandaBackupKey}`;\r\n  }\r\n  const query = `${config.PandaBackupUrl}/archives/${queryString}${apiText}`;\r\n  const response = await fetch(query,\r\n    {\r\n      credentials:   'include',\r\n    });\r\n  return await response.json();\r\n}\r\n","// @flow\r\n/* eslint-disable max-len */\r\nimport React, { Component } from 'react';\r\nimport { HotKeys } from 'react-hotkeys';\r\nimport Slider from 'react-slick';\r\nimport Select from 'react-select';\r\nimport { withRouter } from 'react-router-dom';\r\nimport update from 'immutability-helper';\r\nimport cx from 'classnames';\r\nimport NavigationPager from './NavigationPager';\r\nimport PreloadProgressBars from './PreloadProgressBars';\r\nimport s from './ImageViewer.scss';\r\nimport {getArchiveImages} from \"../../core/apiCalls\";\r\nimport type { OptionType } from 'react-select/src/types'\r\n\r\n\r\nfunction imgRight(evt) {\r\n  const img = evt.currentTarget;\r\n  let left = 0;\r\n  let offset = img;\r\n  while (offset) {\r\n    left += offset.offsetLeft;\r\n    offset = offset.offsetParent;\r\n  }\r\n  if (img.style.paddingLeft) left += Number(img.style.paddingLeft.match(/\\d+/)[0]);\r\n  left -= window.scrollX;\r\n  const x = evt.clientX - left;\r\n  const w = img.width || img.offsetWidth;\r\n  return x / w > 0.5;\r\n}\r\n\r\nfunction getRelativeImages(current: number, start: number, end: number, length: number) {\r\n  let startRange = current - length;\r\n  let endRange = current + length;\r\n  if (startRange < start) {\r\n    startRange = start;\r\n  }\r\n  if (endRange > end) {\r\n    endRange = end;\r\n  }\r\n  return [\r\n    new Array(current - startRange).fill(0).map((_, i) => current - i - 1),\r\n    new Array(endRange - current).fill(0).map((_, i) => i + current + 1),\r\n  ];\r\n}\r\n\r\nfunction preloadOrder(current: number, arrays: [Array<number>, Array<number>]) {\r\n\r\n  const length = arrays[0].length + arrays[1].length;\r\n  let result = [];\r\n\r\n  for (let itemIndex = 0; itemIndex < length; itemIndex++) {\r\n    for (let arrayIndex = 0; arrayIndex < 2; arrayIndex++) {\r\n      if (arrays[arrayIndex].length - 1 < itemIndex) {\r\n        continue;\r\n      }\r\n      result.push(arrays[arrayIndex][itemIndex]);\r\n    }\r\n  }\r\n\r\n  return [current, ...result]\r\n}\r\n\r\nfunction calculateWidthHeight(width: number, height: number, is_horizontal: boolean, horizontal: number, vertical: number): [number, number] {\r\n  let startWidth = 0;\r\n  let startHeight = 0;\r\n  if (is_horizontal) {\r\n    if (width >= horizontal) {\r\n      startWidth = horizontal;\r\n      startHeight = (startWidth * width) / height;\r\n    } else {\r\n      startWidth = width;\r\n      startHeight = height;\r\n    }\r\n  } else if (width >= vertical) {\r\n    startWidth = vertical;\r\n    startHeight = (startWidth * width) / height;\r\n  } else {\r\n    startWidth = width;\r\n    startHeight = height;\r\n  }\r\n  return [startWidth, startHeight];\r\n}\r\n\r\ntype Props = {\r\n  archive: ArchiveExtendedInfo,\r\n  startIndex: number,\r\n  startPosition: number,\r\n  location: Location,\r\n  history: {\r\n  push: (url: string) => void,\r\n    replace: (url: string) => void,\r\n  },\r\n  handleQueueChange: (archiveId: string, queueChange: number) => void,\r\n  displayCovers: boolean,\r\n  displayNavigators: boolean,\r\n  displayMetadata: boolean,\r\n  displayPreloadInfo: boolean,\r\n  doublePageMode: boolean,\r\n  setCurrentContainer: (container: ?GenericHTMLDivElement) => void,\r\n  autoWidth: boolean,\r\n  scale: number,\r\n};\r\n\r\ntype State = {\r\n  currentArchiveId: string,\r\n  currentPosition: number,\r\n  positionModal: number,\r\n  horizontal: number,\r\n  vertical: number,\r\n  showPositionModal: boolean,\r\n  loading: boolean,\r\n  navImages: [Array<number>, Array<number>],\r\n  images: {\r\n    [img_id: number] : ImgCacheElement,\r\n  },\r\n};\r\n\r\nclass ImageViewer extends Component<Props, State> {\r\n\r\n  node: ?HTMLDivElement;\r\n  imgContainer: ?GenericHTMLDivElement;\r\n  modalInput: { current: null | Select };\r\n  slider: Slider;\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.modalInput = React.createRef();\r\n\r\n    const images = {};\r\n\r\n    if(props.archive.startImage) {\r\n      const [startWidth, startHeight] = calculateWidthHeight(\r\n        props.archive.startImage.width,\r\n        props.archive.startImage.height,\r\n        props.archive.startImage.is_horizontal,\r\n        1500,\r\n        900,\r\n      );\r\n      if(props.archive.startImage) {\r\n        images[props.startIndex] = {\r\n          position: props.startIndex,\r\n          url: props.archive.startImage.url,\r\n          width: startWidth,\r\n          height: startHeight,\r\n          is_horizontal: props.archive.startImage.is_horizontal,\r\n          state: 'load',\r\n          percent: 100,\r\n        };\r\n      }\r\n    }\r\n\r\n    this.state = {\r\n      currentArchiveId: props.archive.id,\r\n      currentPosition: props.startIndex,\r\n      positionModal: props.startIndex,\r\n      horizontal: 1500,\r\n      vertical: 900,\r\n      showPositionModal: false,\r\n      loading: true,\r\n      navImages: getRelativeImages(props.startIndex, props.startPosition, props.archive.lastPosition, 5),\r\n      images: images,\r\n    };\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    // window.addEventListener('keydown', this.handleKeyDown);\r\n    // updateByIndexIfQueued(this.context.dispatcher, this.props.archive.id, this.state.currentPosition);\r\n    this.getNonCachedImagesUrls(this.props.archive.id, preloadOrder(this.state.currentPosition, [this.state.navImages[1], this.state.navImages[0]]));\r\n    if (this.node)\r\n      this.node.scrollIntoView();\r\n    if (this.props.displayCovers) {\r\n      this.slider.slickGoTo(this.state.currentPosition - 1);\r\n    }\r\n    this.props.setCurrentContainer(this.imgContainer);\r\n  }\r\n\r\n  static getDerivedStateFromProps(props: Props, state: State) {\r\n    let newId = props.archive.id;\r\n    let oldId = state.currentArchiveId;\r\n    let newImgId = props.startIndex;\r\n    let oldImgId = state.currentPosition;\r\n    if (newId !== oldId) {\r\n      const images = {};\r\n      if(props.archive.startImage) {\r\n        const [startWidth, startHeight] = calculateWidthHeight(\r\n          props.archive.startImage.width,\r\n          props.archive.startImage.height,\r\n          props.archive.startImage.is_horizontal,\r\n          state.horizontal,\r\n          state.vertical,\r\n        );\r\n        if(props.archive.startImage) {\r\n          images[props.startIndex] = {\r\n            position: props.startIndex,\r\n            url: props.archive.startImage.url,\r\n            width: startWidth,\r\n            height: startHeight,\r\n            is_horizontal: props.archive.startImage.is_horizontal,\r\n            state: 'load',\r\n            percent: 100,\r\n          };\r\n        }\r\n      }\r\n\r\n      return {\r\n        currentArchiveId: newId,\r\n        currentPosition: props.startIndex,\r\n        positionModal: props.startIndex,\r\n        loading: true,\r\n        navImages: getRelativeImages(props.startIndex, props.startPosition, props.archive.lastPosition, 5),\r\n        images: images,\r\n      };\r\n    } else if (newImgId !== oldImgId) {\r\n      return {\r\n        loading: true,\r\n        navImages: getRelativeImages(newImgId, props.startPosition, props.archive.lastPosition, 5),\r\n        currentPosition: newImgId,\r\n        positionModal: newImgId,\r\n      };\r\n    }\r\n\r\n    return null;\r\n\r\n  }\r\n\r\n  componentDidUpdate(prevProps){\r\n    let newId = this.props.archive.id;\r\n    let oldId = prevProps.archive.id;\r\n    let newImgId = this.props.startIndex;\r\n    let oldImgId = prevProps.startIndex;\r\n    if (newId !== oldId || newImgId !== oldImgId) {\r\n      // updateByIndexIfQueued(this.context.dispatcher, newId, this.state.currentPosition);\r\n      this.getNonCachedImagesUrls(newId, preloadOrder(this.state.currentPosition, [this.state.navImages[1], this.state.navImages[0]]));\r\n      if(this.imgContainer)\r\n        this.imgContainer.scrollIntoView();\r\n    }\r\n    if (this.props.displayCovers) {\r\n      this.slider.slickGoTo(this.state.currentPosition - 1);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // window.removeEventListener('keydown', this.handleKeyDown);\r\n    this.props.setCurrentContainer(null);\r\n  }\r\n\r\n  updateProgress = (oEvent: SyntheticProgressEvent<HTMLImageElement>) => {\r\n    if (oEvent.lengthComputable) {\r\n      this.setState({\r\n        images: update(this.state.images, {[Number(oEvent.currentTarget.id)]: {$merge: {\r\n          percent: oEvent.loaded / oEvent.total,\r\n        }}})\r\n      });\r\n    } else {\r\n      this.setState({\r\n        images: update(this.state.images, {[Number(oEvent.currentTarget.id)]: {$merge: {\r\n          percent: -1,\r\n        }}})\r\n      });    }\r\n  };\r\n\r\n  transferComplete = (oEvent: SyntheticProgressEvent<HTMLImageElement>) => {\r\n    this.setState({\r\n      images: update(this.state.images, {[Number(oEvent.currentTarget.id)]: {$merge: {\r\n        percent: 100,\r\n        state: 'load',\r\n      }}})\r\n    });\r\n  };\r\n\r\n  transferFailed = (oEvent: SyntheticProgressEvent<HTMLImageElement>) => {\r\n    this.setState({\r\n      images: update(this.state.images, {[Number(oEvent.currentTarget.id)]: {$merge: {\r\n        state: 'error',\r\n      }}})\r\n    });\r\n  };\r\n\r\n  transferCanceled = (oEvent: SyntheticProgressEvent<HTMLImageElement>) => {\r\n    this.setState({\r\n      images: update(this.state.images, {[Number(oEvent.currentTarget.id)]: {$merge: {\r\n        state: 'abort',\r\n      }}})\r\n    });\r\n  };\r\n\r\n  getImagesData = (imageList: Array<ImgCacheElement>) => {\r\n    imageList.filter(x => !{}.hasOwnProperty.call(this.state.images, x.position)).forEach((img) => {\r\n      const fetchImage = new window.Image();\r\n      fetchImage.id = img.position.toString();\r\n      fetchImage.addEventListener(\"progress\", this.updateProgress);\r\n      fetchImage.addEventListener(\"load\", this.transferComplete);\r\n      fetchImage.addEventListener(\"error\", this.transferFailed);\r\n      fetchImage.addEventListener(\"abort\", this.transferCanceled);\r\n      fetchImage.src = img.url;\r\n      // const idNum = Number(id);\r\n      this.setState({\r\n        images: update(this.state.images, {[img.position]: {$set: {\r\n          position: img.position,\r\n          url: img.url,\r\n          width: img.width,\r\n          height: img.height,\r\n          is_horizontal: img.is_horizontal,\r\n          state: 'progress',\r\n          percent: 0,\r\n        }}})\r\n      });\r\n    });\r\n  };\r\n\r\n\r\n  getNonCachedImagesUrls = (archiveId, positions) => {\r\n    const filteredPositions = positions.filter(x => !{}.hasOwnProperty.call(this.state.images, x));\r\n    if (filteredPositions.length !== 0) {\r\n      getArchiveImages(archiveId, filteredPositions)\r\n        .then(archiveImages => this.getImagesData(archiveImages))\r\n    }\r\n  };\r\n\r\n  goToPosition = (position) => {\r\n    if(position !== this.state.currentPosition) {\r\n      this.props.history.replace(`/${this.props.archive.id}/img/${position}${this.props.location.search}`);\r\n    }\r\n  };\r\n\r\n  handleImgClick = (evt) => {\r\n    imgRight(evt) ? this.moveRight() : this.moveLeft();\r\n  };\r\n\r\n  handleSliderChange = (nextSlide: number) => {\r\n    this.goToPosition(nextSlide + 1);\r\n  };\r\n\r\n  moveLeft = () => {\r\n    if (this.props.doublePageMode) {\r\n      if (this.state.navImages[0].length > 1) {\r\n        this.handlePositionChanges(this.state.navImages[0][1]);\r\n        return;\r\n      }\r\n    }\r\n    if (this.state.navImages[0].length > 0) {\r\n      this.handlePositionChanges(this.state.navImages[0][0]);\r\n    }\r\n  };\r\n\r\n  moveRight = () => {\r\n    if (this.props.doublePageMode) {\r\n      if (this.state.navImages[1].length > 1) {\r\n        this.handlePositionChanges(this.state.navImages[1][1]);\r\n        return;\r\n      }\r\n    }\r\n    if (this.state.navImages[1].length > 0) {\r\n      this.handlePositionChanges(this.state.navImages[1][0]);\r\n    }\r\n  };\r\n\r\n  moveFirst = () => {\r\n    this.handlePositionChanges(this.props.startPosition);\r\n  };\r\n\r\n  moveLast = () => {\r\n    this.handlePositionChanges(this.props.archive.lastPosition);\r\n  };\r\n\r\n  handlePositionModalGoTo = (option: OptionType) => {\r\n    this.handlePositionChanges(option.value);\r\n  };\r\n\r\n  handlePositionChanges = (position) => {\r\n    this.goToPosition(position);\r\n    if (this.props.displayCovers) {\r\n      this.slider.slickGoTo(position - 1);\r\n    }\r\n  };\r\n\r\n  togglePositionModal = () => {\r\n    this.setState({ showPositionModal: !this.state.showPositionModal });\r\n    if (this.state.showPositionModal && this.modalInput && this.modalInput.current) {\r\n      this.modalInput.current.focus();\r\n    }\r\n  };\r\n\r\n  correctWith = (image: ImgCacheElement) => {\r\n    if (image.is_horizontal) {\r\n      if (image.width >= this.state.horizontal) {\r\n        return this.state.horizontal;\r\n      }\r\n      return image.width;\r\n    }\r\n    if (image.width >= this.state.vertical) {\r\n      return this.state.vertical;\r\n    }\r\n    return image.width;\r\n  };\r\n\r\n  keyHandlers = {\r\n    'moveLeft': this.moveLeft,\r\n    'moveRight': this.moveRight,\r\n    'moveFirst': this.moveFirst,\r\n    'moveLast': this.moveLast,\r\n    'previousQueue': () => this.props.handleQueueChange(this.props.archive.id, -1),\r\n    'nextQueue': () => this.props.handleQueueChange(this.props.archive.id, 1),\r\n    'togglePositionModal': (event: KeyboardEvent) => {this.togglePositionModal(); event.preventDefault()},\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      showPositionModal,\r\n      currentPosition, images\r\n    } = this.state;\r\n    const {\r\n      displayCovers, displayNavigators,\r\n      displayMetadata, autoWidth,\r\n      displayPreloadInfo, doublePageMode,\r\n      scale\r\n    } = this.props;\r\n    const { lastPosition } = this.props.archive;\r\n\r\n    const Metadata = displayMetadata && (\r\n      <div className={cx(s.overlay, s.overlayLeft)}>\r\n        <div className={s.tag}>{this.props.archive.title}</div>\r\n        {\r\n          this.props.archive.tags.map(tag => (\r\n            <div className={s.tag} key={tag}>{`${tag}`}</div>\r\n          ))\r\n        }\r\n      </div>\r\n    );\r\n    const imgStyle = {\r\n      // height: 'auto',\r\n      // maxWidth: '100%',\r\n      transform: `scaleX(${scale}) scaleY(${scale})`,\r\n      transformOrigin: 'center top',\r\n    };\r\n    const renderedImages = [];\r\n    doublePageMode && (currentPosition < lastPosition) && images[currentPosition+1] && renderedImages.push(\r\n      <img\r\n        key={images[currentPosition+1].url}\r\n        className={s.active}\r\n        src={images[currentPosition+1].url}\r\n        alt=\"\"\r\n        width={autoWidth ? 'auto' : this.correctWith(images[currentPosition+1])}\r\n        height={images[currentPosition+1].height}\r\n        style={imgStyle}\r\n      />\r\n    );\r\n    images[currentPosition] && renderedImages.push(\r\n      <img\r\n        key={images[currentPosition].url}\r\n        className={s.active}\r\n        src={images[currentPosition].url}\r\n        alt=\"\"\r\n        width={autoWidth ? 'auto' : this.correctWith(images[currentPosition])}\r\n        height={images[currentPosition].height}\r\n        style={imgStyle}\r\n      />\r\n    );\r\n    const thumbnails = displayCovers && new Array(lastPosition).fill(0).map(\r\n      (_, i) => (\r\n          ({}.hasOwnProperty.call(images, (i + 1))) ? (\r\n            <div\r\n              key={images[(i + 1)].url}\r\n              style={{ width: 210, height: 285 }}\r\n            >\r\n              <img\r\n                className={'img-fluid mx-auto'}\r\n                src={images[(i + 1)].url}\r\n                alt=\"\"\r\n                width={200}\r\n                height={'auto'}\r\n              />\r\n            </div>) : (\r\n              <div\r\n                key={String(i + 1)}\r\n                style={{ width: 210, height: 285 }}\r\n              >\r\n                <h3>{'Not loaded'}</h3>\r\n              </div>\r\n            )\r\n        ),\r\n    );\r\n    const navSelectOptions = new Array(lastPosition).fill(0).map(\r\n      (_, i) => ({ value: (i + 1), label: (i + 1) }),\r\n    );\r\n    const ChangePageModal = showPositionModal && (\r\n      <div className={s.modalContainer}>\r\n        <Select\r\n          className={s.inlineBlock}\r\n          name=\"select-page-fast\"\r\n          value={{value: currentPosition, label: currentPosition}}\r\n          onChange={this.handlePositionModalGoTo}\r\n          options={navSelectOptions}\r\n          clearable={false}\r\n          autoBlur\r\n          openOnFocus\r\n          onClose={this.togglePositionModal}\r\n          noResultsText=\"No valid page\"\r\n          ref={ this.modalInput }\r\n        />\r\n      </div>\r\n    );\r\n    const ImagePreLoadIndicator = displayPreloadInfo && <PreloadProgressBars images={images}/>;\r\n    return (\r\n      <HotKeys className={s.HotKeys} focused={true} attach={window} handlers={this.keyHandlers}>\r\n        <div ref={node => (this.node = node)}>\r\n          <h6>{this.props.archive.title}</h6>\r\n          {\r\n            displayCovers &&\r\n            <Slider\r\n              dots={false}\r\n              infinite={false}\r\n              speed={0}\r\n              slidesToShow={3}\r\n              slidesToScroll={1}\r\n              focusOnSelect\r\n              centerMode\r\n              centerPadding={'0'}\r\n              ref={(c) => { this.slider = c; }}\r\n              variableWidth\r\n              initialSlide={this.props.startIndex - 1}\r\n              afterChange={this.handleSliderChange}\r\n            >\r\n              {thumbnails}\r\n            </Slider>}\r\n          {\r\n            displayNavigators &&\r\n              <NavigationPager\r\n                className={s.inlineBlock}\r\n                currentPosition={currentPosition}\r\n                lastPosition={lastPosition}\r\n                moveFirst={this.moveFirst}\r\n                moveLeft={this.moveLeft}\r\n                moveRight={this.moveRight}\r\n                moveLast={this.moveLast}\r\n                handleChange={this.handlePositionModalGoTo}\r\n                navSelectOptions={navSelectOptions}\r\n              />\r\n          }\r\n          { ImagePreLoadIndicator }\r\n          <div id=\"img-display\" className={s.imgContainer} onClick={this.handleImgClick} ref={node => (this.imgContainer = ((node: any): ?GenericHTMLDivElement))}>\r\n            { ChangePageModal }\r\n            { images[currentPosition] ? renderedImages : <h5>Archive needs to be extracted before using it in here.</h5> }\r\n            <div className={cx(s.overlay, s.overlayTop, s.hide)}><span id=\"img-counter\">{currentPosition}</span>/{lastPosition}</div>\r\n            { Metadata }\r\n          </div>\r\n        </div>\r\n      </HotKeys>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(ImageViewer);\r\n","// @flow\r\nimport React, { Component } from 'react';\r\nimport ImageViewer from './ImageViewer/ImageViewer';\r\nimport { getArchiveExtendedComponent } from '../core/apiCalls';\r\nimport s from './Archive.scss';\r\n\r\ntype Props = {\r\n  match: {\r\n    params: {\r\n      archiveId: string,\r\n      imgId: string,\r\n    },\r\n  },\r\n  handleQueueChange: (archiveId: string, queueChange: number) => void,\r\n  displayCovers: boolean,\r\n  displayNavigators: boolean,\r\n  displayMetadata: boolean,\r\n  displayPreloadInfo: boolean,\r\n  doublePageMode: boolean,\r\n  autoWidth: boolean,\r\n  scale: number,\r\n  setCurrentContainer: (container: ?GenericHTMLDivElement) => void,\r\n};\r\n\r\ntype State = {\r\n  archive: ?ArchiveExtendedInfo,\r\n}\r\n\r\nclass Archive extends Component<Props, State> {\r\n\r\n  state = {\r\n    archive: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    getArchiveExtendedComponent(this.props.match.params.archiveId, Number(this.props.match.params.imgId)).then(archive => {\r\n      this.setState({ archive });\r\n      document.title = archive.title;\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props) {\r\n    const oldId = prevProps.match.params.archiveId;\r\n    const newId = this.props.match.params.archiveId;\r\n    const imgId = this.props.match.params.imgId;\r\n    if (newId !== oldId)\r\n      getArchiveExtendedComponent(newId, Number(imgId)).then(archive => {\r\n        this.setState({ archive });\r\n        document.title = archive.title;\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { archive } = this.state;\r\n    const {\r\n      match, handleQueueChange, displayCovers,\r\n      displayNavigators, displayMetadata, autoWidth,\r\n      displayPreloadInfo, doublePageMode, setCurrentContainer,\r\n      scale\r\n    } = this.props;\r\n    return (\r\n      <div className={s.container}>\r\n          {archive ?\r\n            <ImageViewer\r\n              startIndex={Number(match.params.imgId)}\r\n              archive={archive}\r\n              startPosition={1}\r\n              handleQueueChange={handleQueueChange}\r\n              displayCovers={displayCovers}\r\n              displayNavigators={displayNavigators}\r\n              displayMetadata={displayMetadata}\r\n              displayPreloadInfo={displayPreloadInfo}\r\n              doublePageMode={doublePageMode}\r\n              setCurrentContainer={setCurrentContainer}\r\n              autoWidth={autoWidth}\r\n              scale={scale}\r\n            /> : null\r\n          }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Archive;\r\n","// @flow\r\nimport React from 'react';\r\nimport s from './Help.scss';\r\nimport cx from 'classnames';\r\n\r\ntype Props = {\r\n  actions: Array<{key: string, name: string, description: string, action?: Function}>\r\n}\r\n\r\n\r\nconst Help = ({actions}: Props) => (\r\n  <div className={s.flex}>\r\n    <div className={cx(s.verticalCenter, s.fullWidth)}>Keyboard shortcuts</div>\r\n    {\r\n      actions.map((x) =>\r\n      <div className={cx(s.verticalCenter, s.flex, s.fullWidth)} key={x.key}>\r\n        <div className={cx(s.grow)}>{x.description}</div>\r\n        <div className={cx(s.noGrow)}>{x.key}</div>\r\n      </div>\r\n      )\r\n    }\r\n  </div>\r\n);\r\n\r\nexport default Help;\r\n","// @flow\r\nimport React from 'react';\r\n\r\ntype AImage = {src: string, title: string, height: number, width: number, className: string };\r\n\r\nconst ArchiveImage = ({src, title, height, width, className }: AImage) => {\r\n  const defaults = {\r\n    maxHeight: 290,\r\n    width,\r\n    // backgroundColor: 'gray',\r\n  };\r\n\r\n  const imgStyle = {\r\n    height: 'auto',\r\n    maxWidth: '100%',\r\n    maxHeight: height,\r\n    border: '1px solid #ccc',\r\n  };\r\n\r\n  return (<div className={className} style={{ ...defaults }}>\r\n    <img style={imgStyle} src={src} alt={title} height={height} width={width} />\r\n  </div>);\r\n};\r\n\r\nArchiveImage.defaultProps = {\r\n  width: 200,\r\n  height: 290,\r\n};\r\n\r\nexport default (ArchiveImage);\r\n","// @flow\r\nimport React from 'react';\r\nimport {\r\n  Link,\r\n  withRouter,\r\n} from 'react-router-dom';\r\nimport cx from 'classnames';\r\nimport s from './ArchiveCover.scss';\r\nimport ArchiveImage from '../ArchiveImage';\r\nimport noCover from '../../assets/no_cover.png';\r\n\r\ntype P = {\r\n  archive: ArchiveHomeInfo,\r\n  location: Location,\r\n}\r\n\r\nconst ArchiveCover = ({ archive, location } : P) => {\r\n  const image = archive.image ? archive.image : noCover;\r\n  const tags = archive.tags.map(tag => (\r\n    <div className={s.tag} key={tag}>{`${tag}`}</div>\r\n  ));\r\n  return (\r\n    <div className={cx(s.gallery, archive.extracted ? s.extracted : null)}>\r\n      <Link to={`/${archive.id}/img/1${location.search}`}>\r\n        <div className={s.coverTitle} title={archive.title}>\r\n          {archive.title}\r\n        </div>\r\n        <ArchiveImage className={s.imageContainer} src={image} title={archive.title} width={archive.image_width} height={archive.image_height} />\r\n        <div className={s.overlay}>\r\n          <div className={s.tags}>\r\n            {tags}\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <div>\r\n        <div className={s.caption}>\r\n          {`${archive.filecount} | `}\r\n          <a className={cx(s.link, s.highlight)} href={`${archive.url}`}>SRC</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(ArchiveCover);\r\n","// @flow\r\nimport React from 'react';\r\nimport { Button } from 'reactstrap';\r\n\r\ntype Props = {\r\n  onClick: () => void,\r\n  showContent: boolean,\r\n  alignRight: boolean,\r\n}\r\n\r\nconst commonStyle = {position: 'absolute', top: '0px'};\r\n\r\nconst ToggleButton = ({ onClick, showContent, alignRight }: Props) => {\r\n  let style;\r\n  const showContentIcon = alignRight ? '>' : '<';\r\n  const hideContentIcon = alignRight ? '<' : '>';\r\n  if(showContent) {\r\n    style = Object.assign({}, commonStyle, alignRight ? {left: '-30px'} : {right: '-30px'})\r\n  } else {\r\n    style = Object.assign({}, commonStyle, alignRight ? {right: '0'} : {left: '0'})\r\n  }\r\n  return (<Button onClick={onClick} size=\"sm\" style={style}>{showContent ? showContentIcon : hideContentIcon }</Button>)\r\n};\r\n\r\nexport default ToggleButton;","// @flow\r\nimport React from 'react';\r\nimport cx from 'classnames';\r\nimport ArchiveCover from '../ArchiveCover/ArchiveCover';\r\nimport ToggleButton from '../ToggleButton';\r\nimport s from './SidebarArchives.scss';\r\n\r\n\r\ntype Props = {\r\n  archives: ArchiveObjectContainer,\r\n  displayQueue: boolean,\r\n  toggleQueue: () => void,\r\n  className?: string,\r\n}\r\n\r\nconst SidebarArchives = ({displayQueue, archives, toggleQueue, className}: Props) => (\r\n  <div className={cx(className, displayQueue ? s.archCont : null)}>\r\n    {\r\n      displayQueue ? archives.objects.map(\r\n        (archive) => (\r\n          <div key={archive.id}>\r\n            <ArchiveCover\r\n              archive={archive}\r\n            />\r\n          </div>\r\n        ),\r\n      ) : null\r\n    }\r\n    <ToggleButton onClick={toggleQueue} showContent={displayQueue} alignRight={false}/>\r\n  </div>\r\n);\r\n\r\nexport default SidebarArchives;","// @flow\r\nimport React from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport ToggleButton from '../ToggleButton';\r\n\r\ntype Props = {\r\n  displayControls: boolean,\r\n  toggleControls: () => void,\r\n  className?: string,\r\n  controls: Array<{key: string, name: string, description: string, action?: Function}>\r\n}\r\n\r\nconst SidebarControls = ({displayControls, toggleControls, className, controls}: Props) => (\r\n  <div className={className}>\r\n    {\r\n      <div>\r\n        {\r\n          displayControls ? controls.map(\r\n            (control) => (\r\n              <div key={control.key}>\r\n                <Button onClick={control.action} color=\"primary\" size=\"sm\" block>{control.description}</Button>\r\n              </div>\r\n            ),\r\n          ) : null\r\n        }\r\n        <ToggleButton onClick={toggleControls} showContent={displayControls} alignRight={true}/>\r\n      </div>\r\n    }\r\n  </div>\r\n);\r\n\r\nexport default SidebarControls;","// @flow\r\nimport React, { Component } from 'react';\r\nimport {\r\n  Route,\r\n  withRouter,\r\n} from 'react-router-dom';\r\nimport { HotKeys } from 'react-hotkeys';\r\nimport cx from 'classnames';\r\nimport Archive from './Archive';\r\nimport Help from './Help';\r\nimport SidebarArchives from './SidebarArchives';\r\nimport SidebarControls from './SidebarControls';\r\nimport { getArchivesComponent } from '../core/apiCalls';\r\nimport s from './Home.scss';\r\n\r\ntype Props = {\r\n  match: Match,\r\n  location: Location,\r\n  history: {\r\n    push: (url: string) => void,\r\n  },\r\n};\r\n\r\ntype State = {\r\n  archives: ?ArchiveObjectContainer,\r\n  displayHelp: boolean,\r\n  displayControls: boolean,\r\n  displayQueue: boolean,\r\n  displayCovers: boolean,\r\n  displayNavigators: boolean,\r\n  displayMetadata: boolean,\r\n  displayPreloadInfo: boolean,\r\n  doublePageMode: boolean,\r\n  autoWidth: boolean,\r\n  scale: number,\r\n  currentContainer: ?GenericHTMLDivElement,\r\n}\r\n\r\nclass Home extends Component<Props, State> {\r\n\r\n  state = {\r\n    archives: null,\r\n    displayQueue: false,\r\n    displayHelp: false,\r\n    displayControls: false,\r\n    currentArchive: null,\r\n    displayCovers: false,\r\n    displayNavigators: true,\r\n    displayMetadata: false,\r\n    displayPreloadInfo: false,\r\n    doublePageMode: false,\r\n    autoWidth: false,\r\n    scale: 1.0,\r\n    currentContainer: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    // window.addEventListener('keydown', this.handleKeyDown);\r\n    getArchivesComponent(this.props.location.search).then(archives => {\r\n      this.setState({ archives });\r\n    });\r\n  };\r\n\r\n  componentDidUpdate(prevProps: Props) {\r\n    let oldSearch = prevProps.location.search;\r\n    let newSearch = this.props.location.search;\r\n    if (newSearch !== oldSearch)\r\n      getArchivesComponent(newSearch).then(archives => {\r\n        this.setState({ archives });\r\n      })\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    // window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  toggleFullSize = () => {\r\n    this.setState({ autoWidth: !this.state.autoWidth });\r\n  };\r\n\r\n  toggleMetadata = () => {\r\n    this.setState({ displayMetadata: !this.state.displayMetadata });\r\n  };\r\n\r\n  toggleDoublePageMode = () => {\r\n    this.setState({ doublePageMode: !this.state.doublePageMode });\r\n  };\r\n\r\n  decreaseScale = () => {\r\n    this.setState({ scale: this.state.scale - 0.1 });\r\n  };\r\n\r\n  increaseScale = () => {\r\n    this.setState({ scale: this.state.scale + 0.1 });\r\n  };\r\n\r\n  resetScale = () => {\r\n    this.setState({ scale: 1.0 });\r\n  };\r\n\r\n  togglePreloadInfo = () => {\r\n    this.setState({ displayPreloadInfo: !this.state.displayPreloadInfo });\r\n  };\r\n\r\n  toggleHelp = () => {\r\n    this.setState({ displayHelp: !this.state.displayHelp });\r\n  };\r\n\r\n  toggleCovers = () => {\r\n    this.setState({ displayCovers: !this.state.displayCovers });\r\n  };\r\n\r\n  toggleQueue = () => {\r\n    this.setState({ displayQueue: !this.state.displayQueue });\r\n  };\r\n\r\n  toggleControls = () => {\r\n    this.setState({ displayControls: !this.state.displayControls });\r\n  };\r\n\r\n  setCurrentContainer = (container: ?GenericHTMLDivElement) => {\r\n      this.setState({ currentContainer: container });\r\n  };\r\n\r\n  contentFullScreen = () => {\r\n    if (!(document:any).fullscreenElement &&    // alternative standard method\r\n      !(document:any).mozFullScreenElement && !(document:any).webkitFullscreenElement && !(document:any).msFullscreenElement) {\r\n      const elem = this.state.currentContainer;\r\n      if (elem) {\r\n        if (elem.requestFullscreen) {\r\n          elem.requestFullscreen();\r\n        } else if (elem.msRequestFullscreen) {\r\n          elem.msRequestFullscreen();\r\n        } else if (elem.mozRequestFullScreen) {\r\n          elem.mozRequestFullScreen();\r\n        } else if (elem.webkitRequestFullscreen) {\r\n          elem.webkitRequestFullscreen();\r\n        }\r\n      }\r\n    } else if ((document:any).exitFullscreen) {\r\n      (document:any).exitFullscreen();\r\n    } else if ((document:any).msExitFullscreen) {\r\n      (document:any).msExitFullscreen();\r\n    } else if ((document:any).mozCancelFullScreen) {\r\n      (document:any).mozCancelFullScreen();\r\n    } else if ((document:any).webkitExitFullscreen) {\r\n      (document:any).webkitExitFullscreen();\r\n    }\r\n  };\r\n\r\n  actions: Array<{key: string, name: string, description: string, action?: Function}> = [\r\n    {key: 'left', name: 'moveLeft', description: 'Move Left'},\r\n    {key: 'right', name: 'moveRight', description: 'Move Right'},\r\n    {key: 'shift+left', name: 'moveFirst', description: 'Move First'},\r\n    {key: 'shift+right', name: 'moveLast', description: 'Move Last'},\r\n    {key: 'y', name: 'previousQueue', description: 'Previous in queue'},\r\n    {key: 'i', name: 'nextQueue', description: 'Next in queue'},\r\n    {key: 'h', name: 'toggleHelp', description: 'Toggle help'},\r\n    {key: 'p', name: 'toggleQueue', description: 'Toggle queue'},\r\n    {key: 'l', name: 'toggleControls', description: 'Toggle controls'},\r\n    {key: '-', name: 'decreaseScale', description: 'Decrease Scale', action: this.decreaseScale},\r\n    {key: '+', name: 'increaseScale', description: 'Increase Scale', action: this.increaseScale},\r\n    {key: '=', name: 'resetScale', description: 'Reset Scale', action: this.resetScale},\r\n    {key: 'g', name: 'toggleFullSize', description: 'Full Size', action: this.toggleFullSize},\r\n    {key: 'f', name: 'toggleFullScreen', description: 'Full Screen', action: this.contentFullScreen},\r\n    {key: 'c', name: 'toggleCovers', description: 'Covers'},\r\n    {key: 't', name: 'toggleDoublePageMode', description: 'Double page mode', action: this.toggleDoublePageMode},\r\n    {key: 'u', name: 'togglePositionModal', description: 'Position Modal'},\r\n    {key: 'j', name: 'toggleMetadata', description: 'Metadata', action: this.toggleMetadata},\r\n    {key: 'shift+j', name: 'togglePreloadInfo', description: 'Preload Info', action: this.togglePreloadInfo}\r\n  ];\r\n\r\n  // Be careful not to clash keys with ImageViewer.\r\n  keyHandlers = {\r\n    'togglePreloadInfo': this.togglePreloadInfo,\r\n    'decreaseScale': this.decreaseScale,\r\n    'increaseScale': this.increaseScale,\r\n    'resetScale': this.resetScale,\r\n    'toggleFullSize': this.toggleFullSize,\r\n    'toggleCovers': this.toggleCovers,\r\n    'toggleDoublePageMode': this.toggleDoublePageMode,\r\n    'toggleHelp': this.toggleHelp,\r\n    'toggleMetadata': this.toggleMetadata,\r\n    'toggleQueue': this.toggleQueue,\r\n    'toggleControls': this.toggleControls,\r\n    'toggleFullScreen': this.contentFullScreen,\r\n  };\r\n\r\n  handleQueueChange = (archiveId: string, queueChange: number) => {\r\n    if (this.state.archives) {\r\n      const foundIndex = this.state.archives.objects.findIndex((archive) => archive.id === archiveId);\r\n      if (foundIndex > -1 && this.state.archives) {\r\n        const probableNextPosition = foundIndex + queueChange;\r\n        if (probableNextPosition >= 0 && probableNextPosition < this.state.archives.objects.length) {\r\n          this.props.history.push(`/${this.state.archives.objects[probableNextPosition].id}/img/1${this.props.location.search}`);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      archives, displayQueue, displayHelp,\r\n      displayCovers, displayNavigators,\r\n      displayMetadata, autoWidth,\r\n      displayPreloadInfo, doublePageMode,\r\n      displayControls, scale\r\n    } = this.state;\r\n    const { match } = this.props;\r\n    return (\r\n      <HotKeys className={s.HotKeys} focused={true} attach={window} keyMap={this.actions.reduce((map, obj) => {map[obj.name] = obj.key; return map;}, {})} handlers={this.keyHandlers}>\r\n        <div>\r\n          {\r\n            <div className={s.container}>\r\n              {\r\n                archives ?\r\n                  <SidebarArchives\r\n                    className={s.overlayLeft}\r\n                    archives={archives}\r\n                    displayQueue={displayQueue}\r\n                    toggleQueue={this.toggleQueue}\r\n                  /> : null\r\n              }\r\n              <div style={{ position: 'relative' }}>\r\n                <Route\r\n                  path={`${match.url}:archiveId/img/:imgId`}\r\n                  render={ props => <Archive\r\n                    handleQueueChange={this.handleQueueChange}\r\n                    displayCovers={displayCovers}\r\n                    displayNavigators={displayNavigators}\r\n                    displayMetadata={displayMetadata}\r\n                    displayPreloadInfo={displayPreloadInfo}\r\n                    doublePageMode={doublePageMode}\r\n                    setCurrentContainer={this.setCurrentContainer}\r\n                    autoWidth={autoWidth}\r\n                    scale={scale}\r\n                    {...props}\r\n                  />}\r\n                />\r\n              </div>\r\n              {\r\n                displayHelp && <div className={cx(s.overlay, s.overlayHelp)}><Help actions={this.actions}/></div>\r\n              }\r\n              <SidebarControls\r\n                className={s.overlayRight}\r\n                displayControls={displayControls}\r\n                toggleControls={this.toggleControls}\r\n                controls={this.actions.filter(x => x.action !== undefined)}\r\n              />\r\n            </div>\r\n          }\r\n        </div>\r\n      </HotKeys>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(Home);","// @flow\r\nimport React from 'react';\r\nimport {\r\n  BrowserRouter,\r\n  Route,\r\n} from 'react-router-dom'\r\nimport Home from './Home';\r\nimport config from '../config';\r\n\r\nconst App = () => (\r\n  <BrowserRouter basename={config.basename}>\r\n    <Route path=\"/\" component={Home}/>\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default App;\r\n","// @flow\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/theme.scss';\r\nimport './styles/bootstrap-theme.scss';\r\nimport App from './components/App';\r\n// import registerServiceWorker from './registerServiceWorker';\r\n\r\nconst root = document.getElementById('root');\r\n\r\nif (root !== null) {\r\n  ReactDOM.render(<App/>, root);\r\n}\r\n\r\n// registerServiceWorker();\r\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js!./ArchiveCover.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js!./ArchiveCover.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js!./ArchiveCover.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js!./Help.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js!./Help.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js!./Help.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/lib/loader.js!./Home.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/lib/loader.js!./Home.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/lib/loader.js!./Home.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js!./NavigationPager.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js!./NavigationPager.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js!./NavigationPager.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/lib/loader.js!./Archive.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/lib/loader.js!./Archive.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/lib/loader.js!./Archive.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","module.exports = __webpack_public_path__ + \"static/media/no_cover.8e25d57e.png\";","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js!./SidebarArchives.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js!./SidebarArchives.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js!./SidebarArchives.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js!./ImageViewer.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js!./ImageViewer.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/lib/loader.js!./ImageViewer.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".NavigationPager__midItem___1cqZa {\\n  padding: 0.25rem 0.75rem;\\n  line-height: 1.25;\\n  color: #ddd;\\n  background-color: #0e1339;\\n  border: 1px solid #dee2e6; }\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"midItem\": \"NavigationPager__midItem___1cqZa\"\n};","module.exports = {\r\n  // Panda Backup parameters. Change them to run self-hosted.\r\n  basename: process.env.REACT_APP_PB_HOST_URL || '/new-image-viewer',\r\n  PandaBackupUrl: process.env.REACT_APP_PB_SERVER || '/r-api',\r\n  PandaBackupKey: process.env.REACT_APP_PB_KEY || '',\r\n\r\n};\r\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".ImageViewer__inlineBlock___3x7PU {\\n  display: inline-block;\\n  width: 75px; }\\n\\n/* Overlays */\\n.ImageViewer__overlay___jS0Z0 {\\n  position: absolute;\\n  max-width: 100%;\\n  height: 20px;\\n  z-index: 10;\\n  color: antiquewhite;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  /* dim the background */\\n  top: 1rem;\\n  text-align: center; }\\n\\n.ImageViewer__overlayTop___2AckZ {\\n  top: 0;\\n  left: 95%;\\n  text-align: center; }\\n\\n.ImageViewer__overlayRight___2JUTP {\\n  left: 85%;\\n  text-align: center; }\\n\\n.ImageViewer__hide___1aBrC {\\n  display: none; }\\n\\n.ImageViewer__overlayLeft___38-fE {\\n  left: 1%;\\n  text-align: left; }\\n\\n.ImageViewer__imgContainer___3vJ9G {\\n  position: relative; }\\n\\n.ImageViewer__imgContainer___3vJ9G:-ms-fullscreen > .ImageViewer__overlay___jS0Z0 {\\n  display: inherit;\\n  top: 2%; }\\n\\n.ImageViewer__imgContainer___3vJ9G:-webkit-full-screen > .ImageViewer__overlay___jS0Z0 {\\n  display: inherit;\\n  top: 2%; }\\n\\n.ImageViewer__imgContainer___3vJ9G:-moz-full-screen > .ImageViewer__overlay___jS0Z0 {\\n  display: inherit;\\n  top: 2%; }\\n\\n/* Fullscreen adjustments */\\nimg.ImageViewer__active___1FrCT {\\n  /* width: auto; */\\n  max-height: 100%;\\n  margin-left: auto;\\n  margin-right: auto;\\n  height: auto;\\n  max-width: 100%;\\n  -webkit-transition-property: -webkit-transform;\\n  transition-property: transform, -webkit-transform;\\n  -webkit-transition-duration: 0.2s;\\n  -o-transition-duration: 0.2s;\\n     transition-duration: 0.2s;\\n  -webkit-transition-timing-function: ease-out;\\n  -o-transition-timing-function: ease-out;\\n     transition-timing-function: ease-out; }\\n\\n.ImageViewer__imgContainer___3vJ9G:-ms-fullscreen > .ImageViewer__active___1FrCT {\\n  width: auto;\\n  max-height: 100%; }\\n\\n.ImageViewer__imgContainer___3vJ9G:-webkit-full-screen {\\n  width: 100%;\\n  height: 100%;\\n  background-color: black; }\\n\\n.ImageViewer__imgContainer___3vJ9G:-webkit-full-screen > .ImageViewer__active___1FrCT {\\n  width: auto; }\\n\\n.ImageViewer__imgContainer___3vJ9G:-moz-full-screen > .ImageViewer__active___1FrCT {\\n  width: auto;\\n  max-height: 100%; }\\n\\n.ImageViewer__modalContainer___1MxZ7 {\\n  position: absolute;\\n  height: 100px;\\n  width: 95%; }\\n\\n.ImageViewer__tag___2mHoz {\\n  background-color: rgba(0, 0, 0, 0.5);\\n  /* dim the background */\\n  display: table; }\\n\\n.ImageViewer__HotKeys___2ICLN:focus {\\n  outline: 0; }\\n\\n.ImageViewer__centerText___1e3gu {\\n  text-align: center; }\\n\", \"\"]);\n\n// Exports\nexports.locals = {\n\t\"inlineBlock\": \"ImageViewer__inlineBlock___3x7PU\",\n\t\"overlay\": \"ImageViewer__overlay___jS0Z0\",\n\t\"overlayTop\": \"ImageViewer__overlayTop___2AckZ\",\n\t\"overlayRight\": \"ImageViewer__overlayRight___2JUTP\",\n\t\"hide\": \"ImageViewer__hide___1aBrC\",\n\t\"overlayLeft\": \"ImageViewer__overlayLeft___38-fE\",\n\t\"imgContainer\": \"ImageViewer__imgContainer___3vJ9G\",\n\t\"active\": \"ImageViewer__active___1FrCT\",\n\t\"modalContainer\": \"ImageViewer__modalContainer___1MxZ7\",\n\t\"tag\": \"ImageViewer__tag___2mHoz\",\n\t\"HotKeys\": \"ImageViewer__HotKeys___2ICLN\",\n\t\"centerText\": \"ImageViewer__centerText___1e3gu\"\n};"],"sourceRoot":""}
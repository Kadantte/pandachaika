{"version":3,"sources":["webpack:///./src/components/Help/Help.scss?91c7","webpack:///./src/components/Home.scss?dd18","webpack:///./src/components/ImageViewer/NavigationPager.scss?137d","webpack:///./src/components/Archive.scss?268f","webpack:///./src/components/SidebarArchives/SidebarArchives.scss?36c8","webpack:///./src/components/ImageViewer/ImageViewer.scss?ae44","components/ImageViewer/NavigationPager.scss","components/ImageViewer/ImageViewer.scss","webpack:///./src/components/ArchiveCover/ArchiveCover.scss?8e3a","components/Archive.scss","components/Help/Help.scss","components/ArchiveCover/ArchiveCover.scss","components/SidebarArchives/SidebarArchives.scss","components/Home.scss","components/ImageViewer/NavigationPager.tsx","components/ImageViewer/PreloadProgressBars.tsx","config.tsx","core/apiCalls.tsx","components/ImageViewer/ImageViewer.tsx","components/Archive.tsx","components/Help/Help.tsx","components/ArchiveImage/ArchiveImage.tsx","assets/no_cover.png","components/ArchiveCover/ArchiveCover.tsx","components/ToggleButton.tsx","components/SidebarArchives/SidebarArchives.tsx","components/SidebarControls/SidebarControls.tsx","components/Home.tsx","components/App.tsx","index.tsx"],"names":["api","__webpack_require__","content","__esModule","default","module","i","options","insert","singleton","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","midItem","inlineBlock","overlay","overlayTop","overlayRight","hide","overlayLeft","imgContainer","active","modalContainer","tag","HotKeys","centerText","container","verticalCenter","flex","grow","noGrow","fullWidth","gallery","coverTitle","extracted","caption","imageContainer","tags","ListToggle","queryTag","smallButton","archCont","overlayHelp","NavigationPager","className","currentPosition","lastPosition","navSelectOptions","handleChange","moveLeft","moveFirst","moveRight","moveLast","react_default","a","createElement","Pagination","listClassName","PaginationItem","PaginationLink","onClick","s","react_select_browser_esm","name","value","label","onChange","isClearable","blurInputOnSelect","noOptionsMessage","style","verticalAlign","PreloadProgressBars","images","position","left","top","width","Object","keys","map","x","percent","Number","state","Progress","key","color","config","basename","process","REACT_APP_PB_HOST_URL","PandaBackupUrl","REACT_APP_PB_SERVER","PandaBackupKey","REACT_APP_PB_KEY","async","getArchiveExtendedComponent","archiveId","correctedPosition","apiText","query","response","fetch","credentials","json","getArchivesComponent","queryString","getRelativeImages","current","start","end","length","startRange","endRange","Array","fill","_","preloadOrder","arrays","result","itemIndex","arrayIndex","calculateWidthHeight","height","is_horizontal","horizontal","vertical","startWidth","startHeight","keyMap","previousQueue","nextQueue","togglePositionModal","ImageViewer","Component","constructor","props","super","_defineProperty","this","oEvent","lengthComputable","setState","update","[object Object]","currentTarget","id","$merge","loaded","total","imageList","filter","hasOwnProperty","call","forEach","img","fetchImage","window","Image","toString","addEventListener","updateProgress","transferComplete","transferFailed","transferCanceled","src","url","$set","positions","filteredPositions","queryPositions","qs","stringify","indices","getArchiveImages","then","archiveImages","getImagesData","history","replace","archive","location","search","evt","offset","offsetLeft","offsetParent","paddingLeft","match","scrollX","clientX","offsetWidth","imgRight","nextSlide","goToPosition","doublePageMode","navImages","handlePositionChanges","startPosition","option","displayCovers","slider","slickGoTo","showPositionModal","modalInput","focus","blur","image","autoWidth","imgStyle","alt","correctWith","handleQueueChange","event","preventDefault","React","createRef","startImage","startIndex","currentArchiveId","positionModal","loading","preloadCount","componentDidMount","getNonCachedImagesUrls","node","scrollIntoView","setCurrentContainer","newId","oldId","newImgId","oldImgId","componentDidUpdate","prevProps","displayAllPreloaded","componentWillUnmount","render","displayNavigators","displayMetadata","displayPreloadInfo","scale","Metadata","cx","title","transform","transformOrigin","renderedImages","renderedImagesPrevious","renderedImagesNext","y","undefined","reverse","getDisplayImage","thumbnails","String","ChangePageModal","handlePositionModalGoTo","clearable","autoBlur","openOnFocus","onClose","noResultsText","ref","ImagePreLoadIndicator","ImageViewer_PreloadProgressBars","index_es","handlers","keyHandlers","lib_default","dots","infinite","speed","slidesToShow","slidesToScroll","focusOnSelect","centerMode","centerPadding","c","variableWidth","initialSlide","afterChange","handleSliderChange","ImageViewer_NavigationPager","handleImgClick","withRouter","Archive","args","params","imgId","document","components_ImageViewer_ImageViewer","Help","actions","description","ArchiveImage","defaults","maxHeight","maxWidth","border","_objectSpread","defaultProps","no_cover","p","noCover","react_router_dom","to","ArchiveImage_ArchiveImage","image_width","image_height","filecount","link","highlight","href","commonStyle","ToggleButton","showContent","alignRight","showContentIcon","hideContentIcon","assign","right","Button","size","SidebarArchives","displayQueue","archives","toggleQueue","objects","components_ArchiveCover_ArchiveCover","components_ToggleButton","SidebarControls","displayControls","toggleControls","controls","control","action","block","Home","Home_defineProperty","displayHelp","currentArchive","currentContainer","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","elem","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","decreaseScale","increaseScale","resetScale","toggleFullSize","contentFullScreen","toggleAllPreloaded","toggleDoublePageMode","toggleMetadata","togglePreloadCount","togglePreloadInfo","toggleCovers","toggleHelp","toggleFullScreen","queueChange","foundIndex","findIndex","probableNextPosition","_HotKeysContainer","oldSearch","newSearch","innerRef","obj","reduce","components_SidebarArchives_SidebarArchives","react_router","path","src_components_Archive","_extends","components_Help_Help","SidebarControls_SidebarControls","App","StrictMode","component","root","getElementById","ReactDOM","components_App"],"mappings":"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","file":"static/js/main.9c213543.chunk.js","sourcesContent":["var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./Help.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/dist/cjs.js!./Home.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./NavigationPager.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../node_modules/postcss-loader/src/index.js??postcss!../../node_modules/sass-loader/dist/cjs.js!./Archive.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./SidebarArchives.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./ImageViewer.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".NavigationPager__midItem___1cqZa{padding:0.25rem 0.75rem;line-height:1.25;color:#ddd;background-color:#0e1339;border:1px solid #dee2e6}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"midItem\": \"NavigationPager__midItem___1cqZa\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ImageViewer__inlineBlock___3x7PU{display:inline-block;width:75px}.ImageViewer__overlay___jS0Z0{position:absolute;max-width:100%;height:20px;z-index:10;color:antiquewhite;background-color:rgba(0,0,0,0.5);top:1rem;text-align:center}.ImageViewer__overlayTop___2AckZ{top:0;left:95%;text-align:center}.ImageViewer__overlayRight___2JUTP{left:85%;text-align:center}.ImageViewer__hide___1aBrC{display:none}.ImageViewer__overlayLeft___38-fE{left:1%;text-align:left}.ImageViewer__imgContainer___3vJ9G{position:relative}.ImageViewer__imgContainer___3vJ9G:-ms-fullscreen>.ImageViewer__overlay___jS0Z0{display:inherit;top:2%}.ImageViewer__imgContainer___3vJ9G:-webkit-full-screen>.ImageViewer__overlay___jS0Z0{display:inherit;top:2%}.ImageViewer__imgContainer___3vJ9G:-moz-full-screen>.ImageViewer__overlay___jS0Z0{display:inherit;top:2%}img.ImageViewer__active___1FrCT{max-height:100%;margin-left:auto;margin-right:auto;height:auto;max-width:100%;-webkit-transition-property:-webkit-transform;transition-property:transform, -webkit-transform;-webkit-transition-duration:0.2s;-o-transition-duration:0.2s;transition-duration:0.2s;-webkit-transition-timing-function:ease-out;-o-transition-timing-function:ease-out;transition-timing-function:ease-out}.ImageViewer__imgContainer___3vJ9G:-ms-fullscreen>.ImageViewer__active___1FrCT{width:auto;max-height:100%}.ImageViewer__imgContainer___3vJ9G:-webkit-full-screen{width:100%;height:100%;background-color:black}.ImageViewer__imgContainer___3vJ9G:-webkit-full-screen>.ImageViewer__active___1FrCT{width:auto}.ImageViewer__imgContainer___3vJ9G:-moz-full-screen>.ImageViewer__active___1FrCT{width:auto;max-height:100%}.ImageViewer__modalContainer___1MxZ7{position:absolute;height:100px;width:95%}.ImageViewer__tag___2mHoz{background-color:rgba(0,0,0,0.5);display:table}.ImageViewer__HotKeys___2ICLN:focus{outline:0}.ImageViewer__centerText___1e3gu{text-align:center}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"inlineBlock\": \"ImageViewer__inlineBlock___3x7PU\",\n\t\"overlay\": \"ImageViewer__overlay___jS0Z0\",\n\t\"overlayTop\": \"ImageViewer__overlayTop___2AckZ\",\n\t\"overlayRight\": \"ImageViewer__overlayRight___2JUTP\",\n\t\"hide\": \"ImageViewer__hide___1aBrC\",\n\t\"overlayLeft\": \"ImageViewer__overlayLeft___38-fE\",\n\t\"imgContainer\": \"ImageViewer__imgContainer___3vJ9G\",\n\t\"active\": \"ImageViewer__active___1FrCT\",\n\t\"modalContainer\": \"ImageViewer__modalContainer___1MxZ7\",\n\t\"tag\": \"ImageViewer__tag___2mHoz\",\n\t\"HotKeys\": \"ImageViewer__HotKeys___2ICLN\",\n\t\"centerText\": \"ImageViewer__centerText___1e3gu\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-5-1!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./ArchiveCover.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Archive__container___3L_dg{margin:0 auto;padding:0;text-align:center}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"container\": \"Archive__container___3L_dg\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Help__verticalCenter___2hUR-{-ms-flex-align:center;align-items:center}.Help__flex___2JJlN{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;list-style:none;background:rgba(0,0,0,0.9)}.Help__flex___2JJlN>*{-ms-flex:0 1 auto;flex:0 1 auto;max-width:100%;text-align:start}.Help__grow___4mrVI{-ms-flex-positive:1;flex-grow:1;color:#b8b5c0}.Help__noGrow___34bmx{-ms-flex-positive:0;flex-grow:0;color:lightblue}.Help__fullWidth___T7Iuq{width:100%}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"verticalCenter\": \"Help__verticalCenter___2hUR-\",\n\t\"flex\": \"Help__flex___2JJlN\",\n\t\"grow\": \"Help__grow___4mrVI\",\n\t\"noGrow\": \"Help__noGrow___34bmx\",\n\t\"fullWidth\": \"Help__fullWidth___T7Iuq\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".ArchiveCover__gallery___2XNvD{display:inline-block;vertical-align:top;text-align:center;background:#001a4c;font-weight:bold;position:relative;width:100%;border:1px solid grey;border-radius:2px}.ArchiveCover__gallery___2XNvD,a:hover{color:inherit;text-decoration:none}.ArchiveCover__coverTitle___3MvdX{max-height:28px;line-height:13px;padding:3px;overflow:hidden;width:100%;height:4em;font-size:0.85em}.ArchiveCover__extracted___2UiVm>a>.ArchiveCover__coverTitle___3MvdX{color:#00d0ff}.ArchiveCover__caption___1jseu{max-height:35px;line-height:15px;padding:3px;overflow:hidden;width:100%;z-index:10;font-size:0.85em;color:#a8a8a4}.ArchiveCover__imageContainer___C1fJ3{display:block;max-width:100%;height:auto;margin-left:auto;margin-right:auto}.ArchiveCover__gallery___2XNvD .ArchiveCover__overlay___1wIAU{background:rgba(0,0,0,0.75);position:absolute;bottom:0;top:0;left:0;right:0;margin-top:28px;margin-bottom:21px;height:auto;width:100%;pointer-events:none;opacity:0;-webkit-transition:opacity 0.125s ease;-o-transition:opacity 0.125s ease;transition:opacity 0.125s ease}.ArchiveCover__gallery___2XNvD .ArchiveCover__overlay___1wIAU .ArchiveCover__tags___GLbno{width:100%;height:100%;font-size:14px;font-weight:300;line-height:1.05;opacity:0;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;-webkit-transition:margin 0.175s ease 0.125s, opacity 0.175s ease 0.175s;-o-transition:margin 0.175s ease 0.125s, opacity 0.175s ease 0.175s;transition:margin 0.175s ease 0.125s, opacity 0.175s ease 0.175s}.ArchiveCover__gallery___2XNvD .ArchiveCover__overlay___1wIAU .ArchiveCover__tags___GLbno .ArchiveCover__tag___jOY9w{width:100%;cursor:pointer}.ArchiveCover__gallery___2XNvD:hover .ArchiveCover__overlay___1wIAU{opacity:1;pointer-events:all}.ArchiveCover__gallery___2XNvD:hover .ArchiveCover__overlay___1wIAU .ArchiveCover__tags___GLbno{opacity:1}.ArchiveCover__gallery___2XNvD:hover .ArchiveCover__overlay___1wIAU .ArchiveCover__ListToggle___3cs9R{opacity:1}.ArchiveCover__queryTag___3IBHh{color:lightgreen}.ArchiveCover__smallButton___2ZAiq{margin:2px}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"gallery\": \"ArchiveCover__gallery___2XNvD\",\n\t\"coverTitle\": \"ArchiveCover__coverTitle___3MvdX\",\n\t\"extracted\": \"ArchiveCover__extracted___2UiVm\",\n\t\"caption\": \"ArchiveCover__caption___1jseu\",\n\t\"imageContainer\": \"ArchiveCover__imageContainer___C1fJ3\",\n\t\"overlay\": \"ArchiveCover__overlay___1wIAU\",\n\t\"tags\": \"ArchiveCover__tags___GLbno\",\n\t\"tag\": \"ArchiveCover__tag___jOY9w\",\n\t\"ListToggle\": \"ArchiveCover__ListToggle___3cs9R\",\n\t\"queryTag\": \"ArchiveCover__queryTag___3IBHh\",\n\t\"smallButton\": \"ArchiveCover__smallButton___2ZAiq\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@media screen and (min-width: 1456px){.SidebarArchives__archCont___30IUp{width:12%}}@media screen and (max-width: 1455px){.SidebarArchives__archCont___30IUp{width:19%}}@media screen and (max-width: 1019px){.SidebarArchives__archCont___30IUp{width:24%}}@media screen and (max-width: 814px){.SidebarArchives__archCont___30IUp{width:32%}}@media screen and (max-width: 542px){.SidebarArchives__archCont___30IUp{width:49%}}@media screen and (max-width: 300px){.SidebarArchives__archCont___30IUp{width:100%}}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"archCont\": \"SidebarArchives__archCont___30IUp\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".Home__inlineBlock___33Dcx{display:inline-block;width:55px}.Home__container___KkeO7{position:relative}.Home__overlay___1L6jf{position:absolute;max-width:100%;height:20px;z-index:10;color:antiquewhite;background-color:rgba(0,0,0,0.5);top:1rem;text-align:center}.Home__overlayTop___1g6qW{top:0;left:95%;text-align:center}.Home__overlayHelp___1USgm{position:absolute;left:85%}.Home__overlayRight___AiZmH{position:absolute;right:1%;top:0;z-index:5}.Home__overlayLeft___JWQEH{position:absolute;left:1%;z-index:5}.Home__imgContainer___3M7tW{position:relative}.Home__imgContainer___3M7tW:-ms-fullscreen>.Home__overlay___1L6jf{display:inherit;top:2%}.Home__imgContainer___3M7tW:-webkit-full-screen>.Home__overlay___1L6jf{display:inherit;top:2%}.Home__imgContainer___3M7tW:-moz-full-screen>.Home__overlay___1L6jf{display:inherit;top:2%}img.Home__active___2X6FD{max-height:100%;margin-left:auto;margin-right:auto;height:auto;max-width:100%}.Home__imgContainer___3M7tW:-ms-fullscreen>.Home__active___2X6FD{width:auto;max-height:100%}.Home__imgContainer___3M7tW:-webkit-full-screen{width:100%;max-height:100%;background-color:black}.Home__imgContainer___3M7tW:-webkit-full-screen>.Home__active___2X6FD{max-height:100%}.Home__imgContainer___3M7tW:-moz-full-screen>.Home__active___2X6FD{width:auto;max-height:100%}.Home__modalContainer___DzRT5{position:absolute;height:100px;width:95%}.Home__tag___30qLH{background-color:rgba(0,0,0,0.5);display:table}.Home__HotKeys___3qY1w:focus{outline:0}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"inlineBlock\": \"Home__inlineBlock___33Dcx\",\n\t\"container\": \"Home__container___KkeO7\",\n\t\"overlay\": \"Home__overlay___1L6jf\",\n\t\"overlayTop\": \"Home__overlayTop___1g6qW\",\n\t\"overlayHelp\": \"Home__overlayHelp___1USgm\",\n\t\"overlayRight\": \"Home__overlayRight___AiZmH\",\n\t\"overlayLeft\": \"Home__overlayLeft___JWQEH\",\n\t\"imgContainer\": \"Home__imgContainer___3M7tW\",\n\t\"active\": \"Home__active___2X6FD\",\n\t\"modalContainer\": \"Home__modalContainer___DzRT5\",\n\t\"tag\": \"Home__tag___30qLH\",\n\t\"HotKeys\": \"Home__HotKeys___3qY1w\"\n};\nmodule.exports = exports;\n","import React from 'react';\r\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\r\nimport Select from 'react-select';\r\nimport s from './NavigationPager.scss';\r\nimport { OptionType } from 'react-select/src/types'\r\n\r\ninterface Props {\r\n  className: string;\r\n  currentPosition: number;\r\n  lastPosition: number;\r\n  navSelectOptions: { label: number; value: number }[];\r\n  handleChange: (option: OptionType) => void;\r\n  moveLeft: () => void;\r\n  moveFirst: () => void;\r\n  moveRight: () => void;\r\n  moveLast: () => void;\r\n}\r\n\r\nconst NavigationPager = ({ className, currentPosition, lastPosition, navSelectOptions, handleChange, moveLeft, moveFirst, moveRight, moveLast }: Props) => (\r\n  <Pagination listClassName={\"justify-content-center my-0\"}>\r\n    <PaginationItem>\r\n      <PaginationLink onClick={moveFirst}>\r\n        &larr;&larr;\r\n      </PaginationLink>\r\n    </PaginationItem>\r\n    <PaginationItem>\r\n      <PaginationLink onClick={moveLeft}>\r\n        &larr;\r\n      </PaginationLink>\r\n    </PaginationItem>\r\n    <PaginationItem>\r\n      <div className={s.midItem}>\r\n        <Select\r\n          className={className}\r\n          name=\"select-page\"\r\n          value={{value: currentPosition, label: currentPosition}}\r\n          onChange={handleChange}\r\n          options={navSelectOptions}\r\n          isClearable={false}\r\n          blurInputOnSelect\r\n          noOptionsMessage={() => `No valid option`}\r\n        />\r\n        <span style={{ verticalAlign: 'super' }}>{ ` of ${lastPosition} ` }</span>\r\n      </div>\r\n    </PaginationItem>\r\n    <PaginationItem>\r\n      <PaginationLink onClick={moveRight}>\r\n        &rarr;\r\n      </PaginationLink>\r\n    </PaginationItem>\r\n    <PaginationItem>\r\n      <PaginationLink onClick={moveLast}>\r\n        &rarr;&rarr;\r\n      </PaginationLink>\r\n    </PaginationItem>\r\n  </Pagination>\r\n);\r\n\r\nexport default NavigationPager;\r\n","import React from 'react';\r\nimport { Progress } from 'reactstrap';\r\nimport {ImgCacheElement} from \"../../types\";\r\n\r\ninterface Props {\r\n  images: {\r\n    [imgId: number]: ImgCacheElement;\r\n  };\r\n}\r\n\r\nconst PreloadProgressBars = ({ images }: Props) => (\r\n  <div style={{position: 'absolute', left: '85%', top: '16%', width: '15%'}}>\r\n    {\r\n      Object.keys(images).map(x => {\r\n        const percent = images[Number(x)].percent;\r\n        switch (images[Number(x)].state) {\r\n          case 'progress':\r\n            return <Progress key={x} color={percent < 0 ? \"warning\" : \"success\"} value={percent}\r\n            >{`${x}: ${percent}%`}</Progress>;\r\n          case 'load':\r\n            return <Progress key={x} color=\"info\" value={percent}>{`${x}: ${percent}%`}</Progress>;\r\n          case 'error':\r\n            return <Progress key={x} color=\"danger\" value={percent}>{`${x}: ${percent}%`}</Progress>;\r\n          case 'abort':\r\n            return <Progress key={x} color=\"danger\" value={percent}>{`${x}: ${percent}%`}</Progress>;\r\n          default:\r\n            return <Progress key={x} color=\"info\" value={percent}>{`${x}: ${percent}%`}</Progress>;\r\n        }\r\n      })\r\n    }\r\n  </div>\r\n);\r\n\r\nexport default PreloadProgressBars;\r\n","export const config = {\r\n  // Panda Backup parameters. Change them to run self-hosted.\r\n  basename: process.env.REACT_APP_PB_HOST_URL || '/new-image-viewer',\r\n  PandaBackupUrl: process.env.REACT_APP_PB_SERVER || '/r-api',\r\n  PandaBackupKey: process.env.REACT_APP_PB_KEY || '',\r\n\r\n};\r\n","import qs from 'qs';\r\nimport { config } from '../config';\r\nimport {ArchiveExtendedInfo, ArchiveObjectContainer, ImgCacheElement} from \"../types\";\r\n\r\nexport async function getArchiveImages(archiveId: string, positions: number[]): Promise<ImgCacheElement[]> {\r\n  const queryPositions = qs.stringify({ i: positions }, { indices: false });\r\n  let apiText;\r\n  if (config.PandaBackupKey === '') {\r\n    apiText = ''\r\n  } else {\r\n    apiText = `&api_key=${config.PandaBackupKey}`;\r\n  }\r\n  const query = `${config.PandaBackupUrl}/archive/${archiveId}/image_list/?${queryPositions}${apiText}`;\r\n  const response = await fetch(query,\r\n    {\r\n      credentials:   'include',\r\n    });\r\n  return await response.json();\r\n}\r\n\r\nexport async function getArchiveExtendedComponent(archiveId: string, position: number): Promise<ArchiveExtendedInfo> {\r\n  const correctedPosition = position || 1;\r\n  let apiText;\r\n  if (config.PandaBackupKey === '') {\r\n    apiText = ''\r\n  } else {\r\n    apiText = `&api_key=${config.PandaBackupKey}`;\r\n  }\r\n  const query = `${config.PandaBackupUrl}/archive/${archiveId}/?position=${correctedPosition}${apiText}`;\r\n  const response = await fetch(query,\r\n    {\r\n      credentials:   'include',\r\n    });\r\n  return await response.json();\r\n}\r\n\r\nexport async function getArchivesComponent(queryString: string): Promise<ArchiveObjectContainer> {\r\n  let apiText;\r\n  if (queryString === '') {\r\n    apiText = `?api_key=${config.PandaBackupKey}`;\r\n  } else {\r\n    apiText = `&api_key=${config.PandaBackupKey}`;\r\n  }\r\n  const query = `${config.PandaBackupUrl}/archives/${queryString}${apiText}`;\r\n  const response = await fetch(query,\r\n    {\r\n      credentials:   'include',\r\n    });\r\n  return await response.json();\r\n}\r\n","/* eslint-disable max-len */\r\nimport React, {Component} from 'react';\r\nimport { GlobalHotKeys } from 'react-hotkeys';\r\nimport Slider from 'react-slick';\r\nimport Select from 'react-select';\r\nimport { withRouter } from 'react-router-dom';\r\nimport update from 'immutability-helper';\r\nimport cx from 'classnames';\r\nimport NavigationPager from './NavigationPager';\r\nimport PreloadProgressBars from './PreloadProgressBars';\r\nimport s from './ImageViewer.scss';\r\nimport {getArchiveImages} from \"../../core/apiCalls\";\r\nimport { OptionType } from 'react-select/src/types'\r\nimport {\r\n  ArchiveExtendedInfo,\r\n  GenericHTMLDivElement,\r\n  ImgCacheElement,\r\n  SyntheticProgressEvent\r\n} from \"../../types\";\r\n\r\nfunction imgRight(evt) {\r\n  const img = evt.currentTarget;\r\n  let left = 0;\r\n  let offset = img;\r\n  while (offset) {\r\n    left += offset.offsetLeft;\r\n    offset = offset.offsetParent;\r\n  }\r\n  if (img.style.paddingLeft) left += Number(img.style.paddingLeft.match(/\\d+/)[0]);\r\n  left -= window.scrollX;\r\n  const x = evt.clientX - left;\r\n  const w = img.width || img.offsetWidth;\r\n  return x / w > 0.5;\r\n}\r\n\r\nfunction getRelativeImages(current: number, start: number, end: number, length: number): [number[], number[]] {\r\n  let startRange = current - length;\r\n  let endRange = current + length;\r\n  if (startRange < start) {\r\n    startRange = start;\r\n  }\r\n  if (endRange > end) {\r\n    endRange = end;\r\n  }\r\n  return [\r\n    new Array(current - startRange).fill(0).map((_, i) => current - i - 1),\r\n    new Array(endRange - current).fill(0).map((_, i) => i + current + 1),\r\n  ];\r\n}\r\n\r\nfunction preloadOrder(current: number, arrays: [number[], number[]]) {\r\n\r\n  const length = arrays[0].length + arrays[1].length;\r\n  const result = [];\r\n\r\n  for (let itemIndex = 0; itemIndex < length; itemIndex++) {\r\n    for (let arrayIndex = 0; arrayIndex < 2; arrayIndex++) {\r\n      if (arrays[arrayIndex].length - 1 < itemIndex) {\r\n        continue;\r\n      }\r\n      result.push(arrays[arrayIndex][itemIndex]);\r\n    }\r\n  }\r\n\r\n  return [current, ...result]\r\n}\r\n\r\nfunction calculateWidthHeight(width: number, height: number, is_horizontal: boolean, horizontal: number, vertical: number): [number, number] {\r\n  let startWidth = 0;\r\n  let startHeight = 0;\r\n  if (is_horizontal) {\r\n    if (width >= horizontal) {\r\n      startWidth = horizontal;\r\n      startHeight = (startWidth * height) / width;\r\n    } else {\r\n      startWidth = width;\r\n      startHeight = height;\r\n    }\r\n  } else if (width >= vertical) {\r\n    startWidth = vertical;\r\n    startHeight = (startWidth * height) / width;\r\n  } else {\r\n    startWidth = width;\r\n    startHeight = height;\r\n  }\r\n  return [startWidth, startHeight];\r\n}\r\n\r\ninterface Props {\r\n  archive: ArchiveExtendedInfo;\r\n  startIndex: number;\r\n  startPosition: number;\r\n  location: Location;\r\n  history: {\r\n    push: (url: string) => void;\r\n    replace: (url: string) => void;\r\n  };\r\n  handleQueueChange: (archiveId: string, queueChange: number) => void;\r\n  displayCovers: boolean;\r\n  displayNavigators: boolean;\r\n  displayMetadata: boolean;\r\n  displayPreloadInfo: boolean;\r\n  doublePageMode: boolean;\r\n  setCurrentContainer: (container: GenericHTMLDivElement | null) => void;\r\n  autoWidth: boolean;\r\n  scale: number;\r\n  preloadCount: number;\r\n  displayAllPreloaded: boolean;\r\n}\r\n\r\ninterface State {\r\n  currentArchiveId: string;\r\n  currentPosition: number;\r\n  positionModal: number;\r\n  horizontal: number;\r\n  vertical: number;\r\n  showPositionModal: boolean;\r\n  loading: boolean;\r\n  navImages: [number[], number[]];\r\n  images: {\r\n    [imgId: number]: ImgCacheElement;\r\n  };\r\n}\r\n\r\nconst keyMap = {\r\n  moveLeft: ['left', 'a'],\r\n  moveRight: ['right', 'd'],\r\n  moveFirst: 'shift+left',\r\n  moveLast: 'shift+right',\r\n  previousQueue: 'y',\r\n  nextQueue: 'i',\r\n  togglePositionModal: 'u'\r\n};\r\n\r\nclass ImageViewer extends Component<Props, State> {\r\n\r\n  node: HTMLDivElement | null;\r\n  imgContainer: GenericHTMLDivElement | null;\r\n  modalInput: { current: null | Select };\r\n  slider: Slider;\r\n\r\n  public state: State;\r\n  public props: Props;\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.modalInput = React.createRef();\r\n\r\n    const images = {};\r\n\r\n    if(props.archive.startImage) {\r\n      const [startWidth, startHeight] = calculateWidthHeight(\r\n        props.archive.startImage.width,\r\n        props.archive.startImage.height,\r\n        props.archive.startImage.is_horizontal,\r\n        1500,\r\n        900,\r\n      );\r\n      if(props.archive.startImage) {\r\n        images[props.startIndex] = {\r\n          position: props.startIndex,\r\n          url: props.archive.startImage.url,\r\n          width: startWidth,\r\n          height: startHeight,\r\n          is_horizontal: props.archive.startImage.is_horizontal,\r\n          state: 'load',\r\n          percent: 100,\r\n        };\r\n      }\r\n    }\r\n\r\n    this.state = {\r\n      currentArchiveId: props.archive.id,\r\n      currentPosition: props.startIndex,\r\n      positionModal: props.startIndex,\r\n      horizontal: 1500,\r\n      vertical: 900,\r\n      showPositionModal: false,\r\n      loading: true,\r\n      navImages: getRelativeImages(props.startIndex, props.startPosition, props.archive.lastPosition, props.preloadCount),\r\n      images: images,\r\n    };\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    // window.addEventListener('keydown', this.handleKeyDown);\r\n    // updateByIndexIfQueued(this.context.dispatcher, this.props.archive.id, this.state.currentPosition);\r\n    this.getNonCachedImagesUrls(this.props.archive.id, preloadOrder(this.state.currentPosition, [this.state.navImages[1], this.state.navImages[0]]));\r\n    if (this.node)\r\n      this.node.scrollIntoView();\r\n    if (this.props.displayCovers) {\r\n      this.slider.slickGoTo(this.state.currentPosition - 1);\r\n    }\r\n    this.props.setCurrentContainer(this.imgContainer);\r\n  }\r\n\r\n  static getDerivedStateFromProps(props: Props, state: State) {\r\n    const newId = props.archive.id;\r\n    const oldId = state.currentArchiveId;\r\n    const newImgId = props.startIndex;\r\n    const oldImgId = state.currentPosition;\r\n    if (newId !== oldId) {\r\n      const images = {};\r\n      if(props.archive.startImage) {\r\n        const [startWidth, startHeight] = calculateWidthHeight(\r\n          props.archive.startImage.width,\r\n          props.archive.startImage.height,\r\n          props.archive.startImage.is_horizontal,\r\n          state.horizontal,\r\n          state.vertical,\r\n        );\r\n        if(props.archive.startImage) {\r\n          images[props.startIndex] = {\r\n            position: props.startIndex,\r\n            url: props.archive.startImage.url,\r\n            width: startWidth,\r\n            height: startHeight,\r\n            is_horizontal: props.archive.startImage.is_horizontal,\r\n            state: 'load',\r\n            percent: 100,\r\n          };\r\n        }\r\n      }\r\n\r\n      return {\r\n        currentArchiveId: newId,\r\n        currentPosition: props.startIndex,\r\n        positionModal: props.startIndex,\r\n        loading: true,\r\n        navImages: getRelativeImages(props.startIndex, props.startPosition, props.archive.lastPosition, props.preloadCount),\r\n        images: images,\r\n      };\r\n    } else if (newImgId !== oldImgId) {\r\n      return {\r\n        loading: true,\r\n        navImages: getRelativeImages(newImgId, props.startPosition, props.archive.lastPosition, props.preloadCount),\r\n        currentPosition: newImgId,\r\n        positionModal: newImgId,\r\n      };\r\n    }\r\n\r\n    return null;\r\n\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props){\r\n    const newId = this.props.archive.id;\r\n    const oldId = prevProps.archive.id;\r\n    const newImgId = this.props.startIndex;\r\n    const oldImgId = prevProps.startIndex;\r\n    if (newId !== oldId || newImgId !== oldImgId) {\r\n      // updateByIndexIfQueued(this.context.dispatcher, newId, this.state.currentPosition);\r\n      this.getNonCachedImagesUrls(newId, preloadOrder(this.state.currentPosition, [this.state.navImages[1], this.state.navImages[0]]));\r\n      if(this.imgContainer)\r\n        this.imgContainer.scrollIntoView();\r\n    }\r\n    else if(this.props.displayAllPreloaded != prevProps.displayAllPreloaded) {\r\n      if(this.imgContainer)\r\n        this.imgContainer.scrollIntoView();\r\n    }\r\n    if (this.props.displayCovers) {\r\n      this.slider.slickGoTo(this.state.currentPosition - 1);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // window.removeEventListener('keydown', this.handleKeyDown);\r\n    this.props.setCurrentContainer(null);\r\n  }\r\n\r\n  updateProgress = (oEvent: SyntheticProgressEvent<HTMLImageElement>) => {\r\n    if (oEvent.lengthComputable) {\r\n      this.setState({\r\n        images: update(this.state.images, {[Number(oEvent.currentTarget.id)]: {$merge: {\r\n          percent: oEvent.loaded / oEvent.total,\r\n        }}})\r\n      });\r\n    } else {\r\n      this.setState({\r\n        images: update(this.state.images, {[Number(oEvent.currentTarget.id)]: {$merge: {\r\n          percent: -1,\r\n        }}})\r\n      });\r\n    }\r\n  }\r\n\r\n  transferComplete = (oEvent: SyntheticProgressEvent<HTMLImageElement>) => {\r\n    this.setState({\r\n      images: update(this.state.images, {[Number(oEvent.currentTarget.id)]: {$merge: {\r\n        percent: 100,\r\n        state: 'load',\r\n      }}})\r\n    });\r\n  };\r\n\r\n  transferFailed = (oEvent: SyntheticProgressEvent<HTMLImageElement>) => {\r\n    this.setState({\r\n      images: update(this.state.images, {[Number(oEvent.currentTarget.id)]: {$merge: {\r\n        state: 'error',\r\n      }}})\r\n    });\r\n  };\r\n\r\n  transferCanceled = (oEvent: SyntheticProgressEvent<HTMLImageElement>) => {\r\n    this.setState({\r\n      images: update(this.state.images, {[Number(oEvent.currentTarget.id)]: {$merge: {\r\n        state: 'abort',\r\n      }}})\r\n    });\r\n  };\r\n\r\n  getImagesData  = (imageList: ImgCacheElement[]) => {\r\n    imageList.filter(x => !{}.hasOwnProperty.call(this.state.images, x.position)).forEach((img) => {\r\n      const fetchImage = new window.Image();\r\n      fetchImage.id = img.position.toString();\r\n      // @ts-ignore\r\n      fetchImage.addEventListener(\"progress\", this.updateProgress);\r\n      // @ts-ignore\r\n      fetchImage.addEventListener(\"load\", this.transferComplete);\r\n      // @ts-ignore\r\n      fetchImage.addEventListener(\"error\", this.transferFailed);\r\n      // @ts-ignore\r\n      fetchImage.addEventListener(\"abort\", this.transferCanceled);\r\n      fetchImage.src = img.url;\r\n      // const idNum = Number(id);\r\n      this.setState({\r\n        images: update(this.state.images, {[img.position]: {$set: {\r\n          position: img.position,\r\n          url: img.url,\r\n          width: img.width,\r\n          height: img.height,\r\n          is_horizontal: img.is_horizontal,\r\n          state: 'progress',\r\n          percent: 0,\r\n        }}})\r\n      });\r\n    });\r\n  };\r\n\r\n\r\n  getNonCachedImagesUrls = (archiveId, positions) => {\r\n    const filteredPositions = positions.filter(x => !{}.hasOwnProperty.call(this.state.images, x));\r\n    if (filteredPositions.length !== 0) {\r\n      getArchiveImages(archiveId, filteredPositions)\r\n        .then(archiveImages => this.getImagesData(archiveImages))\r\n    }\r\n  };\r\n\r\n  goToPosition = (position: number) => {\r\n    if(position !== this.state.currentPosition) {\r\n      this.props.history.replace(`/${this.props.archive.id}/img/${position}${this.props.location.search}`);\r\n    }\r\n  };\r\n\r\n  handleImgClick = (evt) => {\r\n    imgRight(evt) ? this.moveRight() : this.moveLeft();\r\n  };\r\n\r\n  handleSliderChange = (nextSlide: number) => {\r\n    this.goToPosition(nextSlide + 1);\r\n  };\r\n\r\n  moveLeft = () => {\r\n    if (this.props.doublePageMode) {\r\n      if (this.state.navImages[0].length > 1) {\r\n        this.handlePositionChanges(this.state.navImages[0][1]);\r\n        return;\r\n      }\r\n    }\r\n    if (this.state.navImages[0].length > 0) {\r\n      this.handlePositionChanges(this.state.navImages[0][0]);\r\n    }\r\n  };\r\n\r\n  moveRight = () => {\r\n    if (this.props.doublePageMode) {\r\n      if (this.state.navImages[1].length > 1) {\r\n        this.handlePositionChanges(this.state.navImages[1][1]);\r\n        return;\r\n      }\r\n    }\r\n    if (this.state.navImages[1].length > 0) {\r\n      this.handlePositionChanges(this.state.navImages[1][0]);\r\n    }\r\n  };\r\n\r\n  moveFirst = () => {\r\n    this.handlePositionChanges(this.props.startPosition);\r\n  };\r\n\r\n  moveLast = () => {\r\n    this.handlePositionChanges(this.props.archive.lastPosition);\r\n  };\r\n\r\n  handlePositionModalGoTo = (option: OptionType) => {\r\n    this.handlePositionChanges(option.value);\r\n  };\r\n\r\n  handlePositionChanges = (position) => {\r\n    this.goToPosition(position);\r\n    if (this.props.displayCovers) {\r\n      this.slider.slickGoTo(position - 1);\r\n    }\r\n  };\r\n\r\n  togglePositionModal = () => {\r\n    this.setState({ showPositionModal: !this.state.showPositionModal });\r\n    if (this.state.showPositionModal && this.modalInput && this.modalInput.current) {\r\n      this.modalInput.current.focus();\r\n    }\r\n    if (!this.state.showPositionModal && this.modalInput && this.modalInput.current) {\r\n      this.modalInput.current.blur();\r\n    }\r\n  };\r\n\r\n  correctWith = (image: ImgCacheElement) => {\r\n    if (image.is_horizontal) {\r\n      if (image.width >= this.state.horizontal) {\r\n        return this.state.horizontal;\r\n      }\r\n      return image.width;\r\n    }\r\n    if (image.width >= this.state.vertical) {\r\n      return this.state.vertical;\r\n    }\r\n    return image.width;\r\n  };\r\n\r\n  getDisplayImage = (image: ImgCacheElement, autoWidth: boolean, imgStyle: {transform: string; transformOrigin: string}) => (\r\n    <img\r\n      key={image.url}\r\n      className={s.active}\r\n      src={image.url}\r\n      alt=\"\"\r\n      width={autoWidth ? 'auto' : this.correctWith(image)}\r\n      height={image.height}\r\n      style={imgStyle}\r\n    />\r\n  );\r\n\r\n  keyHandlers = {\r\n    'moveLeft': this.moveLeft,\r\n    'moveRight': this.moveRight,\r\n    'moveFirst': this.moveFirst,\r\n    'moveLast': this.moveLast,\r\n    'previousQueue': () => this.props.handleQueueChange(this.props.archive.id, -1),\r\n    'nextQueue': () => this.props.handleQueueChange(this.props.archive.id, 1),\r\n    'togglePositionModal': (event: KeyboardEvent) => {this.togglePositionModal(); event.preventDefault()},\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      showPositionModal,\r\n      currentPosition, images,\r\n      navImages\r\n    } = this.state;\r\n    const {\r\n      displayCovers, displayNavigators,\r\n      displayMetadata, autoWidth,\r\n      displayPreloadInfo, doublePageMode,\r\n      displayAllPreloaded, scale\r\n    } = this.props;\r\n    const { lastPosition } = this.props.archive;\r\n\r\n    const Metadata = displayMetadata && (\r\n      <div className={cx(s.overlay, s.overlayLeft)}>\r\n        <div className={s.tag}>{this.props.archive.title}</div>\r\n        {\r\n          this.props.archive.tags.map(tag => (\r\n            <div className={s.tag} key={tag}>{`${tag}`}</div>\r\n          ))\r\n        }\r\n      </div>\r\n    );\r\n    const imgStyle = {\r\n      // height: 'auto',\r\n      // maxWidth: '100%',\r\n      transform: `scaleX(${scale}) scaleY(${scale})`,\r\n      transformOrigin: 'center top',\r\n    };\r\n    const renderedImages = [];\r\n    let renderedImagesPrevious = [];\r\n    let renderedImagesNext = [];\r\n\r\n    if(displayAllPreloaded) {\r\n      renderedImagesPrevious = navImages[0].filter(y => images[y] !== undefined).reverse().map(x =>\r\n        <div key={x}>\r\n          { this.getDisplayImage(images[x], autoWidth, imgStyle) }\r\n        </div>\r\n      );\r\n      renderedImagesNext = navImages[1].filter(y => (images[y] !== undefined) && (!doublePageMode || y != currentPosition+1)).map(x =>\r\n        <div key={x}>\r\n          { this.getDisplayImage(images[x], autoWidth, imgStyle) }\r\n        </div>\r\n      );\r\n    }\r\n\r\n    doublePageMode && (currentPosition < lastPosition) && images[currentPosition+1] && renderedImages.push(\r\n      this.getDisplayImage(images[currentPosition+1], autoWidth, imgStyle)\r\n    );\r\n    images[currentPosition] && renderedImages.push(\r\n      this.getDisplayImage(images[currentPosition], autoWidth, imgStyle)\r\n    );\r\n\r\n    const thumbnails = displayCovers && new Array(lastPosition).fill(0).map(\r\n      (_, i) => (\r\n        ({}.hasOwnProperty.call(images, (i + 1))) ? (\r\n          <div\r\n            key={images[(i + 1)].url}\r\n            style={{ width: 210, height: 285 }}\r\n          >\r\n            <img\r\n              className={'img-fluid mx-auto'}\r\n              src={images[(i + 1)].url}\r\n              alt=\"\"\r\n              width={200}\r\n              height={'auto'}\r\n            />\r\n          </div>) : (\r\n          <div\r\n            key={String(i + 1)}\r\n            style={{ width: 210, height: 285 }}\r\n          >\r\n            <h3>{'Not loaded'}</h3>\r\n          </div>\r\n        )\r\n      ),\r\n    );\r\n    const navSelectOptions = new Array(lastPosition).fill(0).map(\r\n      (_, i) => ({ value: (i + 1), label: (i + 1) }),\r\n    );\r\n    const ChangePageModal = showPositionModal && (\r\n      <div className={s.modalContainer}>\r\n        <Select\r\n          className={s.inlineBlock}\r\n          name=\"select-page-fast\"\r\n          value={{value: currentPosition, label: currentPosition}}\r\n          onChange={this.handlePositionModalGoTo}\r\n          options={navSelectOptions}\r\n          clearable={false}\r\n          autoBlur\r\n          openOnFocus\r\n          onClose={this.togglePositionModal}\r\n          noResultsText=\"No valid page\"\r\n          ref={ this.modalInput }\r\n        />\r\n      </div>\r\n    );\r\n    const ImagePreLoadIndicator = displayPreloadInfo && <PreloadProgressBars images={images}/>;\r\n    return (\r\n      <GlobalHotKeys className={s.HotKeys} keyMap={keyMap} handlers={this.keyHandlers}>\r\n        <div ref={node => (this.node = node)}>\r\n          <h6>{this.props.archive.title}</h6>\r\n          {\r\n            displayCovers &&\r\n            <Slider\r\n              dots={false}\r\n              infinite={false}\r\n              speed={0}\r\n              slidesToShow={3}\r\n              slidesToScroll={1}\r\n              focusOnSelect\r\n              centerMode\r\n              centerPadding={'0'}\r\n              ref={(c) => { this.slider = c; }}\r\n              variableWidth\r\n              initialSlide={this.props.startIndex - 1}\r\n              afterChange={this.handleSliderChange}\r\n            >\r\n              {thumbnails}\r\n            </Slider>}\r\n          {\r\n            displayNavigators &&\r\n              <NavigationPager\r\n                className={s.inlineBlock}\r\n                currentPosition={currentPosition}\r\n                lastPosition={lastPosition}\r\n                moveFirst={this.moveFirst}\r\n                moveLeft={this.moveLeft}\r\n                moveRight={this.moveRight}\r\n                moveLast={this.moveLast}\r\n                handleChange={this.handlePositionModalGoTo}\r\n                navSelectOptions={navSelectOptions}\r\n              />\r\n          }\r\n          { ImagePreLoadIndicator }\r\n          {\r\n            renderedImagesPrevious ?\r\n              <div id=\"img-previous\" className={s.imgContainer}>\r\n                { renderedImagesPrevious }\r\n              </div> :\r\n              null\r\n          }\r\n          <div id=\"img-display\" className={s.imgContainer} onClick={this.handleImgClick} ref={node => (this.imgContainer = node as GenericHTMLDivElement)}>\r\n            { ChangePageModal }\r\n            { images[currentPosition] ? renderedImages : <h5>Archive needs to be extracted before using it in here.</h5> }\r\n            <div className={cx(s.overlay, s.overlayTop, s.hide)}><span id=\"img-counter\">{currentPosition}</span>/{lastPosition}</div>\r\n            { Metadata }\r\n          </div>\r\n          {\r\n            renderedImagesNext ?\r\n              <div id=\"img-next\" className={s.imgContainer}>\r\n                { renderedImagesNext }\r\n              </div> :\r\n              null\r\n          }\r\n        </div>\r\n      </GlobalHotKeys>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(ImageViewer);\r\n","import React, { Component } from 'react';\r\nimport ImageViewer from './ImageViewer/ImageViewer';\r\nimport { getArchiveExtendedComponent } from '../core/apiCalls';\r\nimport s from './Archive.scss';\r\nimport {ArchiveExtendedInfo, GenericHTMLDivElement} from \"../types\";\r\n\r\ninterface Props {\r\n  match: {\r\n    params: {\r\n      archiveId: string;\r\n      imgId: string;\r\n    };\r\n  };\r\n  handleQueueChange: (archiveId: string, queueChange: number) => void;\r\n  displayCovers: boolean;\r\n  displayNavigators: boolean;\r\n  displayMetadata: boolean;\r\n  displayPreloadInfo: boolean;\r\n  doublePageMode: boolean;\r\n  displayAllPreloaded: boolean;\r\n  autoWidth: boolean;\r\n  scale: number;\r\n  preloadCount: number;\r\n  setCurrentContainer: (container: GenericHTMLDivElement | null) => void;\r\n}\r\n\r\ninterface State {\r\n  archive: ArchiveExtendedInfo | null;\r\n}\r\n\r\nclass Archive extends Component<Props, State> {\r\n\r\n  state = {\r\n    archive: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    getArchiveExtendedComponent(this.props.match.params.archiveId, Number(this.props.match.params.imgId)).then(archive => {\r\n      this.setState({ archive });\r\n      document.title = archive.title;\r\n    })\r\n  }\r\n\r\n  componentDidUpdate(prevProps: Props) {\r\n    const oldId = prevProps.match.params.archiveId;\r\n    const newId = this.props.match.params.archiveId;\r\n    const imgId = this.props.match.params.imgId;\r\n    if (newId !== oldId)\r\n      getArchiveExtendedComponent(newId, Number(imgId)).then(archive => {\r\n        this.setState({ archive });\r\n        document.title = archive.title;\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { archive } = this.state;\r\n    const {\r\n      match, handleQueueChange, displayCovers,\r\n      displayNavigators, displayMetadata, autoWidth,\r\n      displayPreloadInfo, doublePageMode, setCurrentContainer,\r\n      scale, preloadCount, displayAllPreloaded\r\n    } = this.props;\r\n    return (\r\n      <div className={s.container}>\r\n        {archive ?\r\n          <ImageViewer\r\n            startIndex={Number(match.params.imgId)}\r\n            archive={archive}\r\n            startPosition={1}\r\n            handleQueueChange={handleQueueChange}\r\n            displayCovers={displayCovers}\r\n            displayNavigators={displayNavigators}\r\n            displayMetadata={displayMetadata}\r\n            displayPreloadInfo={displayPreloadInfo}\r\n            doublePageMode={doublePageMode}\r\n            displayAllPreloaded={displayAllPreloaded}\r\n            setCurrentContainer={setCurrentContainer}\r\n            autoWidth={autoWidth}\r\n            scale={scale}\r\n            preloadCount={preloadCount}\r\n          /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Archive;\r\n","import React from 'react';\r\nimport s from './Help.scss';\r\nimport cx from 'classnames';\r\n\r\ninterface Props {\r\n  actions: {key: string; name: string; description: string; action?: Function}[];\r\n}\r\n\r\n\r\nconst Help = ({actions}: Props) => (\r\n  <div className={s.flex}>\r\n    <div className={cx(s.verticalCenter, s.fullWidth)}>Keyboard shortcuts</div>\r\n    {\r\n      actions.map((x) =>\r\n        <div className={cx(s.verticalCenter, s.flex, s.fullWidth)} key={x.key}>\r\n          <div className={cx(s.grow)}>{x.description}</div>\r\n          <div className={cx(s.noGrow)}>{x.key}</div>\r\n        </div>\r\n      )\r\n    }\r\n  </div>\r\n);\r\n\r\nexport default Help;\r\n","import React from 'react';\r\n\r\ninterface AImage {src: string; title: string; height: number; width: number; className: string }\r\n\r\nconst ArchiveImage = ({src, title, height, width, className }: AImage) => {\r\n  const defaults = {\r\n    maxHeight: 290,\r\n    width,\r\n    // backgroundColor: 'gray',\r\n  };\r\n\r\n  const imgStyle = {\r\n    height: 'auto',\r\n    maxWidth: '100%',\r\n    maxHeight: height,\r\n    border: '1px solid #ccc',\r\n  };\r\n\r\n  return (<div className={className} style={{ ...defaults }}>\r\n    <img style={imgStyle} src={src} alt={title} height={height} width={width} />\r\n  </div>);\r\n};\r\n\r\nArchiveImage.defaultProps = {\r\n  width: 200,\r\n  height: 290,\r\n};\r\n\r\nexport default (ArchiveImage);\r\n","export default __webpack_public_path__ + \"static/media/no_cover.8e25d57e.png\";","import React from 'react';\r\nimport {\r\n  Link,\r\n  withRouter,\r\n} from 'react-router-dom';\r\nimport cx from 'classnames';\r\nimport s from './ArchiveCover.scss';\r\nimport ArchiveImage from '../ArchiveImage/ArchiveImage';\r\nimport noCover from '../../assets/no_cover.png';\r\nimport {ArchiveHomeInfo} from \"../../types\";\r\n\r\ninterface P {\r\n  archive: ArchiveHomeInfo;\r\n  location: Location;\r\n}\r\n\r\nconst ArchiveCover = ({ archive, location }: P) => {\r\n  const image = archive.image ? archive.image : noCover;\r\n  const tags = archive.tags.map(tag => (\r\n    <div className={s.tag} key={tag}>{`${tag}`}</div>\r\n  ));\r\n  return (\r\n    <div className={cx(s.gallery, archive.extracted ? s.extracted : null)}>\r\n      <Link to={`/${archive.id}/img/1${location.search}`}>\r\n        <div className={s.coverTitle} title={archive.title}>\r\n          {archive.title}\r\n        </div>\r\n        <ArchiveImage className={s.imageContainer} src={image} title={archive.title} width={archive.image_width} height={archive.image_height} />\r\n        <div className={s.overlay}>\r\n          <div className={s.tags}>\r\n            {tags}\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <div>\r\n        <div className={s.caption}>\r\n          {`${archive.filecount} | `}\r\n          <a className={cx(s.link, s.highlight)} href={`${archive.url}`}>SRC</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(ArchiveCover);\r\n","import React from 'react';\r\nimport { Button } from 'reactstrap';\r\n\r\ninterface Props {\r\n  onClick: () => void;\r\n  showContent: boolean;\r\n  alignRight: boolean;\r\n}\r\n\r\nconst commonStyle = {position: 'absolute', top: '0px'};\r\n\r\nconst ToggleButton = ({ onClick, showContent, alignRight }: Props) => {\r\n  let style;\r\n  const showContentIcon = alignRight ? '>' : '<';\r\n  const hideContentIcon = alignRight ? '<' : '>';\r\n  if(showContent) {\r\n    style = Object.assign({}, commonStyle, alignRight ? {left: '-30px'} : {right: '-30px'})\r\n  } else {\r\n    style = Object.assign({}, commonStyle, alignRight ? {right: '0'} : {left: '0'})\r\n  }\r\n  return (<Button onClick={onClick} size=\"sm\" style={style}>{showContent ? showContentIcon : hideContentIcon }</Button>)\r\n};\r\n\r\nexport default ToggleButton;","import React from 'react';\r\nimport cx from 'classnames';\r\nimport ArchiveCover from '../ArchiveCover/ArchiveCover';\r\nimport ToggleButton from '../ToggleButton';\r\nimport s from './SidebarArchives.scss';\r\nimport {ArchiveObjectContainer} from \"../../types\";\r\n\r\n\r\ninterface Props {\r\n  archives: ArchiveObjectContainer;\r\n  displayQueue: boolean;\r\n  toggleQueue: () => void;\r\n  className?: string;\r\n}\r\n\r\nconst SidebarArchives = ({displayQueue, archives, toggleQueue, className}: Props) => (\r\n  <div className={cx(className, displayQueue ? s.archCont : null)}>\r\n    {\r\n      displayQueue ? archives.objects.map(\r\n        (archive) => (\r\n          <div key={archive.id}>\r\n            <ArchiveCover\r\n              archive={archive}\r\n            />\r\n          </div>\r\n        ),\r\n      ) : null\r\n    }\r\n    <ToggleButton onClick={toggleQueue} showContent={displayQueue} alignRight={false}/>\r\n  </div>\r\n);\r\n\r\nexport default SidebarArchives;","import React from 'react';\r\nimport { Button } from 'reactstrap';\r\nimport ToggleButton from '../ToggleButton';\r\n\r\ninterface Props {\r\n  displayControls: boolean;\r\n  toggleControls: () => void;\r\n  className?: string;\r\n  controls: {key: string; name: string; description: string; action?: Function}[];\r\n}\r\n\r\nconst SidebarControls = ({displayControls, toggleControls, className, controls}: Props) => (\r\n  <div className={className}>\r\n    {\r\n      <div>\r\n        {\r\n          displayControls ? controls.map(\r\n            (control) => (\r\n              <div key={control.key}>\r\n                <Button onClick={control.action} color=\"primary\" size=\"sm\" block>{control.description}</Button>\r\n              </div>\r\n            ),\r\n          ) : null\r\n        }\r\n        <ToggleButton onClick={toggleControls} showContent={displayControls} alignRight={true}/>\r\n      </div>\r\n    }\r\n  </div>\r\n);\r\n\r\nexport default SidebarControls;","import React, { Component } from 'react';\r\nimport {\r\n  Route,\r\n  withRouter,\r\n} from 'react-router-dom';\r\nimport { HotKeys } from 'react-hotkeys';\r\nimport cx from 'classnames';\r\nimport Archive from './Archive';\r\nimport Help from './Help';\r\nimport SidebarArchives from './SidebarArchives';\r\nimport SidebarControls from './SidebarControls';\r\nimport { getArchivesComponent } from '../core/apiCalls';\r\nimport s from './Home.scss';\r\nimport {ArchiveObjectContainer, GenericHTMLDivElement, Match} from \"../types\";\r\n\r\ninterface Props {\r\n  match: Match;\r\n  location: Location;\r\n  history: {\r\n    push: (url: string) => void;\r\n  };\r\n}\r\n\r\ninterface State {\r\n  archives: ArchiveObjectContainer | null;\r\n  displayHelp: boolean;\r\n  displayControls: boolean;\r\n  displayQueue: boolean;\r\n  displayCovers: boolean;\r\n  displayNavigators: boolean;\r\n  displayMetadata: boolean;\r\n  displayPreloadInfo: boolean;\r\n  doublePageMode: boolean;\r\n  autoWidth: boolean;\r\n  scale: number;\r\n  preloadCount: number;\r\n  currentContainer: GenericHTMLDivElement | null;\r\n  displayAllPreloaded: boolean;\r\n}\r\n\r\nclass Home extends Component<Props, State> {\r\n\r\n  state = {\r\n    archives: null,\r\n    displayQueue: false,\r\n    displayHelp: false,\r\n    displayControls: false,\r\n    currentArchive: null,\r\n    displayCovers: false,\r\n    displayNavigators: true,\r\n    displayMetadata: false,\r\n    displayPreloadInfo: false,\r\n    doublePageMode: false,\r\n    autoWidth: false,\r\n    scale: 1.0,\r\n    preloadCount: 5,\r\n    currentContainer: null,\r\n    displayAllPreloaded: false,\r\n  };\r\n\r\n  _HotKeysContainer: React.RefObject<HTMLElement>;\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this._HotKeysContainer = React.createRef<HTMLElement>();\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    // window.addEventListener('keydown', this.handleKeyDown);\r\n    if(this._HotKeysContainer && this._HotKeysContainer.current) {\r\n      this._HotKeysContainer.current.focus();\r\n    }\r\n    getArchivesComponent(this.props.location.search).then(archives => {\r\n      this.setState({ archives });\r\n    });\r\n  };\r\n\r\n  componentDidUpdate(prevProps: Props) {\r\n    const oldSearch = prevProps.location.search;\r\n    const newSearch = this.props.location.search;\r\n    if (newSearch !== oldSearch)\r\n      getArchivesComponent(newSearch).then(archives => {\r\n        this.setState({ archives });\r\n      })\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    // window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  toggleFullSize = () => {\r\n    this.setState({ autoWidth: !this.state.autoWidth });\r\n  };\r\n\r\n  toggleMetadata = () => {\r\n    this.setState({ displayMetadata: !this.state.displayMetadata });\r\n  };\r\n\r\n  toggleDoublePageMode = () => {\r\n    this.setState({ doublePageMode: !this.state.doublePageMode });\r\n  };\r\n\r\n  decreaseScale = () => {\r\n    this.setState({ scale: this.state.scale - 0.1 });\r\n  };\r\n\r\n  increaseScale = () => {\r\n    this.setState({ scale: this.state.scale + 0.1 });\r\n  };\r\n\r\n  resetScale = () => {\r\n    this.setState({ scale: 1.0 });\r\n  };\r\n\r\n  togglePreloadInfo = () => {\r\n    this.setState({ displayPreloadInfo: !this.state.displayPreloadInfo });\r\n  };\r\n\r\n  toggleHelp = () => {\r\n    this.setState({ displayHelp: !this.state.displayHelp });\r\n  };\r\n\r\n  toggleCovers = () => {\r\n    this.setState({ displayCovers: !this.state.displayCovers });\r\n  };\r\n\r\n  toggleQueue = () => {\r\n    this.setState({ displayQueue: !this.state.displayQueue });\r\n  };\r\n\r\n  togglePreloadCount = () => {\r\n    this.setState({ preloadCount: this.state.preloadCount == 5 ? 1 : 5 });\r\n  };\r\n\r\n  toggleControls = () => {\r\n    this.setState({ displayControls: !this.state.displayControls });\r\n  };\r\n\r\n  setCurrentContainer = (container: GenericHTMLDivElement | null) => {\r\n    this.setState({ currentContainer: container });\r\n  };\r\n\r\n  contentFullScreen = () => {\r\n    if (!(document).fullscreenElement &&    // alternative standard method\r\n      !(document).mozFullScreenElement && !(document).webkitFullscreenElement && !(document).msFullscreenElement) {\r\n      const elem = this.state.currentContainer;\r\n      if (elem) {\r\n        if (elem.requestFullscreen) {\r\n          elem.requestFullscreen();\r\n        } else if (elem.msRequestFullscreen) {\r\n          elem.msRequestFullscreen();\r\n        } else if (elem.mozRequestFullScreen) {\r\n          elem.mozRequestFullScreen();\r\n        } else if (elem.webkitRequestFullscreen) {\r\n          elem.webkitRequestFullscreen();\r\n        }\r\n      }\r\n    } else if ((document).exitFullscreen) {\r\n      (document).exitFullscreen();\r\n    } else if ((document).msExitFullscreen) {\r\n      (document).msExitFullscreen();\r\n    } else if ((document).mozCancelFullScreen) {\r\n      (document).mozCancelFullScreen();\r\n    } else if ((document).webkitExitFullscreen) {\r\n      (document).webkitExitFullscreen();\r\n    }\r\n  };\r\n\r\n  toggleAllPreloaded = () => {\r\n    this.setState({ displayAllPreloaded: !this.state.displayAllPreloaded });\r\n  };\r\n\r\n  actions: {key: string; name: string; description: string; input?: string; action?: Function}[] = [\r\n    {key: 'left, a', name: 'moveLeft', description: 'Move Left'},\r\n    {key: 'right, d, space', name: 'moveRight', description: 'Move Right'},\r\n    {key: 'shift+left', name: 'moveFirst', description: 'Move First'},\r\n    {key: 'shift+right', name: 'moveLast', description: 'Move Last'},\r\n    {key: 'y', name: 'previousQueue', description: 'Previous in queue'},\r\n    {key: 'i', name: 'nextQueue', description: 'Next in queue'},\r\n    {key: 'h', name: 'toggleHelp', description: 'Toggle help'},\r\n    {key: 'p', name: 'toggleQueue', description: 'Toggle queue'},\r\n    {key: 'l', name: 'toggleControls', description: 'Toggle controls'},\r\n    {key: '-', name: 'decreaseScale', description: 'Decrease Scale', action: this.decreaseScale},\r\n    {key: '+', name: 'increaseScale', description: 'Increase Scale', action: this.increaseScale},\r\n    {key: '=', name: 'resetScale', description: 'Reset Scale', action: this.resetScale},\r\n    {key: 'g', name: 'toggleFullSize', description: 'Full Size', action: this.toggleFullSize},\r\n    {key: 'f', name: 'toggleFullScreen', description: 'Full Screen', action: this.contentFullScreen},\r\n    {key: 'o', name: 'toggleAllPreloaded', description: 'Display all preloaded', action: this.toggleAllPreloaded},\r\n    {key: 'c', name: 'toggleCovers', description: 'Covers'},\r\n    {key: 't', name: 'toggleDoublePageMode', description: 'Double page mode', action: this.toggleDoublePageMode},\r\n    {key: 'u', name: 'togglePositionModal', description: 'Position Modal'},\r\n    {key: 'j', name: 'toggleMetadata', description: 'Metadata', action: this.toggleMetadata},\r\n    {key: 'shift+p', name: 'togglePreloadCount', description: 'Preload Count', action: this.togglePreloadCount},\r\n    {key: 'shift+j', name: 'togglePreloadInfo', description: 'Preload Info', action: this.togglePreloadInfo}\r\n  ];\r\n\r\n  // Be careful not to clash keys with ImageViewer.\r\n  keyHandlers = {\r\n    'togglePreloadInfo': this.togglePreloadInfo,\r\n    'decreaseScale': this.decreaseScale,\r\n    'increaseScale': this.increaseScale,\r\n    'resetScale': this.resetScale,\r\n    'toggleFullSize': this.toggleFullSize,\r\n    'toggleCovers': this.toggleCovers,\r\n    'toggleDoublePageMode': this.toggleDoublePageMode,\r\n    'toggleHelp': this.toggleHelp,\r\n    'toggleMetadata': this.toggleMetadata,\r\n    'toggleQueue': this.toggleQueue,\r\n    'toggleControls': this.toggleControls,\r\n    'toggleFullScreen': this.contentFullScreen,\r\n    'togglePreloadCount': this.togglePreloadCount,\r\n    'toggleAllPreloaded': this.toggleAllPreloaded,\r\n  };\r\n\r\n  handleQueueChange = (archiveId: string, queueChange: number) => {\r\n    if (this.state.archives) {\r\n      const foundIndex = this.state.archives.objects.findIndex((archive) => archive.id === archiveId);\r\n      if (foundIndex > -1 && this.state.archives) {\r\n        const probableNextPosition = foundIndex + queueChange;\r\n        if (probableNextPosition >= 0 && probableNextPosition < this.state.archives.objects.length) {\r\n          this.props.history.push(`/${this.state.archives.objects[probableNextPosition].id}/img/1${this.props.location.search}`);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      archives, displayQueue, displayHelp,\r\n      displayCovers, displayNavigators,\r\n      displayMetadata, autoWidth,\r\n      displayPreloadInfo, doublePageMode,\r\n      displayControls, scale, preloadCount,\r\n      displayAllPreloaded\r\n    } = this.state;\r\n    const { match } = this.props;\r\n    return (\r\n      // @ts-ignore\r\n      <HotKeys\r\n        className={s.HotKeys}\r\n        innerRef={this._HotKeysContainer}\r\n        keyMap={\r\n          this.actions\r\n            .filter(obj => this.keyHandlers.hasOwnProperty(obj.name))\r\n            .reduce((map, obj) => {map[obj.name] = obj.key; return map;}, {})\r\n        }\r\n        handlers={this.keyHandlers}>\r\n        <div>\r\n          {\r\n            <div className={s.container}>\r\n              {\r\n                archives ?\r\n                  <SidebarArchives\r\n                    className={s.overlayLeft}\r\n                    archives={archives}\r\n                    displayQueue={displayQueue}\r\n                    toggleQueue={this.toggleQueue}\r\n                  /> : null\r\n              }\r\n              <div style={{ position: 'relative' }}>\r\n                <Route\r\n                  path={`${match.url}:archiveId/img/:imgId`}\r\n                  render={ props => <Archive\r\n                    handleQueueChange={this.handleQueueChange}\r\n                    displayCovers={displayCovers}\r\n                    displayNavigators={displayNavigators}\r\n                    displayMetadata={displayMetadata}\r\n                    displayPreloadInfo={displayPreloadInfo}\r\n                    displayAllPreloaded={displayAllPreloaded}\r\n                    doublePageMode={doublePageMode}\r\n                    setCurrentContainer={this.setCurrentContainer}\r\n                    autoWidth={autoWidth}\r\n                    scale={scale}\r\n                    preloadCount={preloadCount}\r\n                    {...props}\r\n                  />}\r\n                />\r\n              </div>\r\n              {\r\n                displayHelp && <div className={cx(s.overlay, s.overlayHelp)}><Help actions={this.actions}/></div>\r\n              }\r\n              <SidebarControls\r\n                className={s.overlayRight}\r\n                displayControls={displayControls}\r\n                toggleControls={this.toggleControls}\r\n                controls={this.actions.filter(x => x.action !== undefined)}\r\n              />\r\n            </div>\r\n          }\r\n        </div>\r\n      </HotKeys>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(Home);","import React from 'react';\r\nimport {\r\n  BrowserRouter,\r\n  Route,\r\n} from 'react-router-dom'\r\nimport Home from './Home';\r\nimport { config } from '../config';\r\n\r\nconst App = () => (\r\n  <React.StrictMode>\r\n    <BrowserRouter basename={config.basename}>\r\n      <Route path=\"/\" component={Home}/>\r\n    </BrowserRouter>\r\n  </React.StrictMode>\r\n);\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/theme.scss';\r\nimport './styles/bootstrap-theme.scss';\r\nimport App from './components/App';\r\n// import registerServiceWorker from './registerServiceWorker';\r\n\r\nconst root = document.getElementById('root');\r\n\r\nif (root !== null) {\r\n  ReactDOM.render(<App/>, root);\r\n}\r\n\r\n// registerServiceWorker();\r\n"],"sourceRoot":""}